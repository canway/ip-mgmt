{"version":3,"sources":["webpack:///./src/views/system/custom.vue","webpack:///src/views/system/custom.vue","webpack:///./src/views/system/custom.vue?bd5c","webpack:///./src/views/system/custom.vue?aca7"],"names":["component","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","getConditionData","on","onSearch","model","value","callback","$$v","searchParams","expression","_v","$event","customDialog","visible","title","directives","name","rawName","isLoading","loading","zIndex","dataList","columns","fixed","pagination","handlePageChange","limitChange","scopedSlots","_u","key","fn","record","_s","typeObj","scope","type","requiredObj","required","toModify","toDelete","$set","ref","formData","rules","_l","option","id","slot","isConfirm","stopPropagation","preventDefault","handleSubmit","apply","arguments","staticRenderFns"],"mappings":"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","file":"static/dist/js/11.8bbf81b8bfc6fc22b380.js","sourcesContent":["import { render, staticRenderFns } from \"./custom.vue?vue&type=template&id=33d27e96&scoped=true&\"\nimport script from \"./custom.vue?vue&type=script&lang=js&\"\nexport * from \"./custom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./custom.vue?vue&type=style&index=0&id=33d27e96&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33d27e96\",\n  null\n  \n)\n\nexport default component.exports","<!--\r\nThis program is named IP Management Center and it is a tool to help network administrators manage enterprise IP resource pool reasonably and conveniently.\r\nCopyright (C) <2021>  <Guangzhou Canway Technology Co.,Ltd.>\r\nContact details: jackliu@canway.net or 11th Floor, Building A，Fengxing Plaza No. 67 Tianhe East Road Tianhe District, Guangzhou, China 510630. jackliu, 15927493530\r\nThis file is part of IP Management Center.\r\nIP Management Center is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\r\nIP Management Center is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\r\nYou should have received a copy of the GNU General Public License along with Canway software. If not, see <https://www.gnu.org/licenses/>.\r\n-->\r\n<template>\r\n    <div class=\"table—wrapper content\">\r\n        <div class=\"header-table-operation\">\r\n            <div style=\"display: flex; align-items: center;\">\r\n                <bk-search-select clearable :data=\"getConditionData\"\r\n                    :show-condition=\"false\"\r\n                    v-model=\"searchParams\"\r\n                    style=\"width: 500px;background: #fff;\"\r\n                    @search=\"onSearch\"\r\n                    @clear=\"onSearch\"\r\n                    :show-popover-tag-change=\"true\">\r\n                </bk-search-select>\r\n            </div>\r\n            <div class=\"operation-container\">\r\n                <bk-button :title=\"'添加自定义属性'\" @click=\"customDialog.visible = true, customDialog.title = '添加自定义属性'\">添加自定义属性</bk-button>\r\n            </div>\r\n        </div>\r\n        <div v-bkloading=\"{ isLoading: loading, zIndex: 10 }\">\r\n            <common-table\r\n                :data=\"dataList\"\r\n                :columns=\"columns\"\r\n                :order-column=\"{ visible: false, fixed: false }\"\r\n                :pagination=\"pagination\"\r\n                @page-change=\"handlePageChange\"\r\n                @page-limit-change=\"limitChange\"\r\n            >\r\n                <template slot=\"type\" slot-scope=\"record\">\r\n                    {{ typeObj[record.scope.type] }}\r\n                </template>\r\n                <template slot=\"required\" slot-scope=\"record\">\r\n                    {{ requiredObj[record.scope.required] }}\r\n                </template>\r\n                <template slot=\"operation\" slot-scope=\"record\">\r\n                    <bk-button class=\"mr10\" theme=\"primary\" text @click=\"toModify(record.scope)\">修改</bk-button>\r\n                    <bk-popconfirm\r\n                        trigger=\"click\"\r\n                        title=\"确认删除该自定义属性吗？\"\r\n                        content=\"删除操作无法撤回，请谨慎操作！\"\r\n                        @confirm=\"toDelete(record.scope)\">\r\n                        <bk-button class=\"mr10\" theme=\"primary\" text>删除</bk-button>\r\n                    </bk-popconfirm>\r\n                </template>\r\n            </common-table>\r\n        </div>\r\n        <bk-dialog v-model=\"customDialog.visible\"\r\n            theme=\"primary\"\r\n            :mask-close=\"false\"\r\n            :header-position=\"'left'\"\r\n            :title=\"customDialog.title\"\r\n            :auto-close=\"false\">\r\n            <bk-form :label-width=\"80\" :model=\"formData\" :rules=\"rules\" ref=\"validateForm\">\r\n                <bk-form-item label=\"类型\" :required=\"true\" :property=\"'type'\" :error-display-type=\"'normal'\">\r\n                    <bk-select :disabled=\"false\" v-model=\"formData.type\" style=\"width: 270px;\"\r\n                        ext-cls=\"select-custom\"\r\n                        ext-popover-cls=\"select-popover-custom\">\r\n                        <bk-option v-for=\"option in typeList\"\r\n                            :key=\"option.id\"\r\n                            :id=\"option.id\"\r\n                            :name=\"option.name\">\r\n                        </bk-option>\r\n                    </bk-select>\r\n                </bk-form-item>\r\n                <bk-form-item label=\"字段名称\" :required=\"true\" :property=\"'name'\" :error-display-type=\"'normal'\">\r\n                    <bk-input v-model=\"formData.name\" placeholder=\"请输入字段名称\"></bk-input>\r\n                </bk-form-item>\r\n                <bk-form-item label=\"显示名称\" :required=\"true\" :property=\"'display_name'\" :error-display-type=\"'normal'\">\r\n                    <bk-input v-model=\"formData.display_name\" placeholder=\"请输入显示名称\"></bk-input>\r\n                </bk-form-item>\r\n                <bk-form-item label=\"必填项\" :required=\"true\" :property=\"'required'\" :error-display-type=\"'normal'\">\r\n                    <bk-radio-group v-model=\"formData.required\">\r\n                        <bk-radio :value=\"'是'\">是</bk-radio>\r\n                        <bk-radio :value=\"'否'\">否</bk-radio>\r\n                    </bk-radio-group>\r\n                </bk-form-item>\r\n                <bk-form-item label=\"备注\" :property=\"'description'\">\r\n                    <bk-input v-model=\"formData.description\" placeholder=\"请输入备注\"></bk-input>\r\n                </bk-form-item>\r\n            </bk-form>\r\n            <div slot=\"footer\">\r\n                <bk-button theme=\"primary\" title=\"确定\"\r\n                    :loading=\"isConfirm\" @click.stop.prevent=\"handleSubmit\">确定</bk-button>\r\n                <bk-button theme=\"default\" title=\"取消\" @click=\"customDialog.visible = false\">取消</bk-button>\r\n            </div>\r\n        </bk-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import commonTable from '@/components/table/comTable'\r\n    export default {\r\n        name: 'custom-manage',\r\n        components: {\r\n            commonTable\r\n        },\r\n        data() {\r\n            return {\r\n                loading: false,\r\n                searchParams: [],\r\n                typeObj: {\r\n                    'ip_pool': 'IP地址池自定义属性',\r\n                    'tetwork_segment': '子网自定义属性',\r\n                    'ips': 'ip自定义属性'\r\n                },\r\n                requiredObj: {\r\n                    true: '是',\r\n                    false: '否'\r\n                },\r\n                data: [\r\n                    {\r\n                        name: '类型',\r\n                        id: 'type',\r\n                        children: [\r\n                            {\r\n                                name: 'IP地址池自定义属性',\r\n                                id: 'ip_pool'\r\n                            },\r\n                            {\r\n                                name: '子网自定义属性',\r\n                                id: 'tetwork_segment'\r\n                            },\r\n                            {\r\n                                name: 'ip自定义属性',\r\n                                id: 'ips'\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        name: '字段名称',\r\n                        id: 'name'\r\n                    },\r\n                    {\r\n                        name: '显示名称',\r\n                        id: 'display_name'\r\n                    },\r\n                    {\r\n\r\n                        name: '必填项',\r\n                        id: 'required',\r\n                        children: [\r\n                            {\r\n                                name: '是',\r\n                                id: 'true'\r\n                            },\r\n                            {\r\n                                name: '否',\r\n                                id: 'false'\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        name: '备注',\r\n                        id: 'description'\r\n                    }\r\n                ],\r\n                customDialog: {\r\n                    visible: false,\r\n                    title: '添加自定义属性'\r\n                },\r\n                formData: {\r\n                    type: '',\r\n                    name: '',\r\n                    display_name: '',\r\n                    required: '是',\r\n                    description: ''\r\n                },\r\n                dataList: [],\r\n                typeList: [\r\n                    {\r\n                        id: 'ip_pool',\r\n                        name: 'IP地址池自定义属性'\r\n                    },\r\n                    {\r\n                        id: 'tetwork_segment',\r\n                        name: '子网自定义属性'\r\n                    },\r\n                    {\r\n                        id: 'ips',\r\n                        name: 'ip自定义属性'\r\n                    }\r\n                ],\r\n                columns: [\r\n                    {\r\n                        label: '类型',\r\n                        key: 'type',\r\n                        align: 'left',\r\n                        attr: {\r\n                            minWidth: '100px'\r\n                        },\r\n                        scopedSlots: { customRender: 'type' }\r\n                    },\r\n                    {\r\n                        label: '字段名称',\r\n                        key: 'name',\r\n                        align: 'left',\r\n                        attr: {\r\n                            minWidth: '100px'\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '显示名称',\r\n                        key: 'display_name',\r\n                        align: 'left',\r\n                        attr: {\r\n                            minWidth: '100px'\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '必填项',\r\n                        key: 'required',\r\n                        align: 'left',\r\n                        attr: {\r\n                            minWidth: '100px'\r\n                        },\r\n                        scopedSlots: { customRender: 'required' }\r\n                    },\r\n                    {\r\n                        label: '添加者',\r\n                        key: 'create_by',\r\n                        align: 'left',\r\n                        attr: {\r\n                            minWidth: '100px'\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '添加时间',\r\n                        key: 'create_at',\r\n                        align: 'left',\r\n                        attr: {\r\n                            minWidth: '100px'\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '备注',\r\n                        key: 'description',\r\n                        align: 'left',\r\n                        attr: {\r\n                            minWidth: '100px'\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '操作',\r\n                        key: 'operation',\r\n                        scopedSlots: { customRender: 'operation' }\r\n                    }\r\n                ],\r\n                pagination: {\r\n                    current: 1,\r\n                    count: 1,\r\n                    limit: 10\r\n                },\r\n                rules: {\r\n                    type: [\r\n                        {\r\n                            required: true,\r\n                            message: '请选择类型',\r\n                            trigger: 'change'\r\n                        }\r\n                    ],\r\n                    name: [\r\n                        {\r\n                            required: true,\r\n                            message: '请输入字段名称',\r\n                            trigger: 'blur'\r\n                        }\r\n                    ],\r\n                    display_name: [\r\n                        {\r\n                            required: true,\r\n                            message: '请输入显示名称',\r\n                            trigger: 'blur'\r\n                        }\r\n                    ]\r\n                },\r\n                isConfirm: false\r\n            }\r\n        },\r\n        computed: {\r\n            getConditionData() {\r\n                const _data = JSON.parse(JSON.stringify(this.data))\r\n                const _result = []\r\n                _data.forEach(item => {\r\n                    const _current = this.searchParams.find(ele => ele.id === item.id)\r\n                    if (!_current) {\r\n                        _result.push({...item})\r\n                    }\r\n                })\r\n                return _result\r\n            }\r\n        },\r\n        watch: {\r\n            'customDialog.visible'() {\r\n                if (!this.customDialog.visible) {\r\n                    for (const i in this.formData) {\r\n                        if (i === 'required') {\r\n                            this.formData[i] = '是'\r\n                        } else {\r\n                            this.formData[i] = ''\r\n                        }\r\n                    }\r\n                    this.customDialog.title = '添加自定义属性'\r\n                }\r\n            }\r\n        },\r\n        created() {\r\n            this.onSearch()\r\n        },\r\n        methods: {\r\n            handlePageChange(page) {\r\n                this.pagination.current = page\r\n                this.onSearch()\r\n            },\r\n            limitChange(limit) {\r\n                this.pagination.limit = limit\r\n                this.onSearch()\r\n            },\r\n            // 查询自定义属性\r\n            onSearch() {\r\n                const timer = setTimeout(() => {\r\n                    const params = {\r\n                        page: this.pagination.current,\r\n                        page_size: this.pagination.limit,\r\n                        type: this.getDataDetail('type'),\r\n                        name: this.getDataDetail('name'),\r\n                        display_name: this.getDataDetail('display_name'),\r\n                        required: this.getDataDetail('required'),\r\n                        description: this.getDataDetail('description')\r\n                    }\r\n                    this.loading = true\r\n                    this.$api.searchCustom(params).then(res => {\r\n                        if (res.result) {\r\n                            this.dataList = res.data.results\r\n                            this.pagination.count = res.data.count\r\n                        } else {\r\n                            this._errorMessage(res.message)\r\n                        }\r\n                        this.loading = false\r\n                    })\r\n                    clearTimeout(timer)\r\n                }, 0)\r\n            },\r\n            getDataDetail(type) {\r\n                const current = this.searchParams.find(item => item.id === type)\r\n                if (current && current['values']) {\r\n                    return current['values'][0].id\r\n                } else {\r\n                    return ''\r\n                }\r\n            },\r\n            toModify(row) {\r\n                this.customDialog.visible = true\r\n                this.customDialog.title = '编辑自定义属性'\r\n                this.formData = {...row}\r\n                if (this.formData.required) {\r\n                    this.formData.required = '是'\r\n                } else {\r\n                    this.formData.required = '否'\r\n                }\r\n            },\r\n            toDelete(row) {\r\n                const params = {\r\n                    id: row.id\r\n                }\r\n                this.$api.deleteCustom(params).then(res => {\r\n                    if (res.result) {\r\n                        this.$bkMessage({\r\n                            theme: 'success',\r\n                            message: '删除成功'\r\n                        })\r\n                        this.onSearch()\r\n                    } else {\r\n                        this.$bkMessage({\r\n                            theme: 'error',\r\n                            message: '删除失败'\r\n                        })\r\n                    }\r\n                })\r\n            },\r\n            handleSubmit() {\r\n                this.$refs.validateForm.validate().then((valid) => {\r\n                    if (valid) {\r\n                        const params = {...this.formData}\r\n                        if (params.required === '是') {\r\n                            params.required = true\r\n                        } else {\r\n                            params.required = false\r\n                        }\r\n                        this.isConfirm = true\r\n                        if (this.customDialog.title === '添加自定义属性') {\r\n                            this.$api.addCustom(params).then(res => {\r\n                                if (res.result) {\r\n                                    this._successMessage('添加成功')\r\n                                    this.onSearch()\r\n                                    this.customDialog.visible = false\r\n                                } else {\r\n                                    this._errorMessage(res.message)\r\n                                }\r\n                                this.isConfirm = false\r\n                            })\r\n                        } else {\r\n                            this.$api.editCustom(params).then(res => {\r\n                                if (res.result) {\r\n                                    this.$bkMessage({\r\n                                        theme: 'success',\r\n                                        message: '修改成功'\r\n                                    })\r\n                                    this.onSearch()\r\n                                    this.customDialog.visible = false\r\n                                } else {\r\n                                    this.$bkMessage({\r\n                                        theme: 'error',\r\n                                        message: '修改失败'\r\n                                    })\r\n                                }\r\n                            }).finally(() => {\r\n                                this.isConfirm = false\r\n                            })\r\n                        }\r\n                    }\r\n                }, validator => {\r\n                    this.isConfirm = false\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    .bk-form-radio {\r\n        margin-right: 16px;\r\n    }\r\n</style>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table—wrapper content\"},[_c('div',{staticClass:\"header-table-operation\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('bk-search-select',{staticStyle:{\"width\":\"500px\",\"background\":\"#fff\"},attrs:{\"clearable\":\"\",\"data\":_vm.getConditionData,\"show-condition\":false,\"show-popover-tag-change\":true},on:{\"search\":_vm.onSearch,\"clear\":_vm.onSearch},model:{value:(_vm.searchParams),callback:function ($$v) {_vm.searchParams=$$v},expression:\"searchParams\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"operation-container\"},[_c('bk-button',{attrs:{\"title\":'添加自定义属性'},on:{\"click\":function($event){_vm.customDialog.visible = true, _vm.customDialog.title = '添加自定义属性'}}},[_vm._v(\"添加自定义属性\")])],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"bkloading\",rawName:\"v-bkloading\",value:({ isLoading: _vm.loading, zIndex: 10 }),expression:\"{ isLoading: loading, zIndex: 10 }\"}]},[_c('common-table',{attrs:{\"data\":_vm.dataList,\"columns\":_vm.columns,\"order-column\":{ visible: false, fixed: false },\"pagination\":_vm.pagination},on:{\"page-change\":_vm.handlePageChange,\"page-limit-change\":_vm.limitChange},scopedSlots:_vm._u([{key:\"type\",fn:function(record){return [_vm._v(\"\\n                \"+_vm._s(_vm.typeObj[record.scope.type])+\"\\n            \")]}},{key:\"required\",fn:function(record){return [_vm._v(\"\\n                \"+_vm._s(_vm.requiredObj[record.scope.required])+\"\\n            \")]}},{key:\"operation\",fn:function(record){return [_c('bk-button',{staticClass:\"mr10\",attrs:{\"theme\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.toModify(record.scope)}}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('bk-popconfirm',{attrs:{\"trigger\":\"click\",\"title\":\"确认删除该自定义属性吗？\",\"content\":\"删除操作无法撤回，请谨慎操作！\"},on:{\"confirm\":function($event){return _vm.toDelete(record.scope)}}},[_c('bk-button',{staticClass:\"mr10\",attrs:{\"theme\":\"primary\",\"text\":\"\"}},[_vm._v(\"删除\")])],1)]}}])})],1),_vm._v(\" \"),_c('bk-dialog',{attrs:{\"theme\":\"primary\",\"mask-close\":false,\"header-position\":'left',\"title\":_vm.customDialog.title,\"auto-close\":false},model:{value:(_vm.customDialog.visible),callback:function ($$v) {_vm.$set(_vm.customDialog, \"visible\", $$v)},expression:\"customDialog.visible\"}},[_c('bk-form',{ref:\"validateForm\",attrs:{\"label-width\":80,\"model\":_vm.formData,\"rules\":_vm.rules}},[_c('bk-form-item',{attrs:{\"label\":\"类型\",\"required\":true,\"property\":'type',\"error-display-type\":'normal'}},[_c('bk-select',{staticStyle:{\"width\":\"270px\"},attrs:{\"disabled\":false,\"ext-cls\":\"select-custom\",\"ext-popover-cls\":\"select-popover-custom\"},model:{value:(_vm.formData.type),callback:function ($$v) {_vm.$set(_vm.formData, \"type\", $$v)},expression:\"formData.type\"}},_vm._l((_vm.typeList),function(option){return _c('bk-option',{key:option.id,attrs:{\"id\":option.id,\"name\":option.name}})}),1)],1),_vm._v(\" \"),_c('bk-form-item',{attrs:{\"label\":\"字段名称\",\"required\":true,\"property\":'name',\"error-display-type\":'normal'}},[_c('bk-input',{attrs:{\"placeholder\":\"请输入字段名称\"},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_vm._v(\" \"),_c('bk-form-item',{attrs:{\"label\":\"显示名称\",\"required\":true,\"property\":'display_name',\"error-display-type\":'normal'}},[_c('bk-input',{attrs:{\"placeholder\":\"请输入显示名称\"},model:{value:(_vm.formData.display_name),callback:function ($$v) {_vm.$set(_vm.formData, \"display_name\", $$v)},expression:\"formData.display_name\"}})],1),_vm._v(\" \"),_c('bk-form-item',{attrs:{\"label\":\"必填项\",\"required\":true,\"property\":'required',\"error-display-type\":'normal'}},[_c('bk-radio-group',{model:{value:(_vm.formData.required),callback:function ($$v) {_vm.$set(_vm.formData, \"required\", $$v)},expression:\"formData.required\"}},[_c('bk-radio',{attrs:{\"value\":'是'}},[_vm._v(\"是\")]),_vm._v(\" \"),_c('bk-radio',{attrs:{\"value\":'否'}},[_vm._v(\"否\")])],1)],1),_vm._v(\" \"),_c('bk-form-item',{attrs:{\"label\":\"备注\",\"property\":'description'}},[_c('bk-input',{attrs:{\"placeholder\":\"请输入备注\"},model:{value:(_vm.formData.description),callback:function ($$v) {_vm.$set(_vm.formData, \"description\", $$v)},expression:\"formData.description\"}})],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('bk-button',{attrs:{\"theme\":\"primary\",\"title\":\"确定\",\"loading\":_vm.isConfirm},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('bk-button',{attrs:{\"theme\":\"default\",\"title\":\"取消\"},on:{\"click\":function($event){_vm.customDialog.visible = false}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./custom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./custom.vue?vue&type=script&lang=js&\""],"sourceRoot":""}