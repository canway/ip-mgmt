{"version":3,"sources":["webpack:///./src/views/Ip/offlineWhitelist/index.vue?436e","webpack:///src/views/Ip/offlineWhitelist/index.vue","webpack:///./src/views/Ip/offlineWhitelist/addOfflineWhite.vue?f25b","webpack:///./src/views/Ip/offlineWhitelist/addOfflineWhite.vue","webpack:///./src/views/Ip/offlineWhitelist/addOfflineWhite.vue?960a","webpack:///src/views/Ip/offlineWhitelist/addOfflineWhite.vue","webpack:///./src/views/Ip/offlineWhitelist/index.vue?f691","webpack:///./src/views/Ip/offlineWhitelist/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","onSearch","model","value","callback","$$v","searchValue","expression","_v","getFormWidget","handleAdvancedSearch","$event","$refs","showDialog","batchDelete","copyData","length","toExport","_e","directives","name","rawName","isLoading","loading","zIndex","columns","visible","fixed","settingsFields","pagination","selectChange","handleSettingChange","handlePageChange","limitChange","scopedSlots","_u","key","fn","record","style","background","statusColorObj","scope","allocate_status","_s","statusObj","toDelete","ref","fetchData","staticRenderFns","component","formData","rules","remote","filterable","searchable","popperAppendToBody","clearable","url","detailUrl","$set","nameKey","netSelectChange","slot","staticStyle","isConfirm","stopPropagation","preventDefault","submitData","apply","arguments"],"mappings":"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B,KAAhB,CACoB,SAApB,SAEgB,cAAhB,CACoB,OAApB,cACoB,MAApB,MACoB,QAApB,EACoB,KAApB,UACoB,YAApB,SACoB,KAApB,CACwB,WAAxB,EACwB,QAAxB,EACwB,YAAxB,EACwB,YAAxB,EACwB,oBAAxB,EACwB,IAAxB,aACwB,UAAxB,aACwB,UAAxB,KAIA,CACgB,IAAhB,SACgB,MAAhB,OACgB,KAAhB,CACoB,SAApB,SAEgB,cAAhB,CACoB,OAApB,gBACoB,YAApB,QACoB,MAApB,KACoB,QAApB,EACoB,KAApB,SACoB,KAApB,CACwB,QAAxB,UACwB,QAAxB,EACwB,YAAxB,EACwB,YAAxB,EACwB,oBAAxB,EACwB,WAAxB,EACwB,IAAxB,gBACwB,UAAxB,gBACwB,UAAxB,KAIA,CACgB,IAAhB,cACgB,MAAhB,MACgB,KAAhB,CACoB,SAApB,SAEgB,cAAhB,CACoB,OAApB,QACoB,YAApB,SACoB,KAApB,CACwB,WAAxB,EACwB,KAAxB,SACwB,IAAxB,KAIA,CACgB,IAAhB,UACgB,MAAhB,KACgB,KAAhB,CACoB,SAApB,SAEgB,cAAhB,CACoB,OAApB,QACoB,YAApB,QACoB,KAApB,CACwB,WAAxB,KAIA,CACgB,IAAhB,MACgB,MAAhB,SACgB,KAAhB,CACoB,SAApB,SAEgB,cAAhB,CACoB,OAApB,QACoB,MAApB,MACoB,YAApB,YACoB,KAApB,CACwB,WAAxB,KAIA,CACgB,IAAhB,kBACgB,MAAhB,OACgB,KAAhB,CACoB,SAApB,SAEgB,YAAhB,wBACgB,cAAhB,CACoB,OAApB,cACoB,QAApB,EACoB,YAApB,UACoB,KAApB,QACoB,aAApB,GACoB,KAApB,CACwB,YAAxB,EACwB,UAAxB,EACwB,oBAAxB,EACwB,WAAxB,EACwB,QAAxB,CACA,CAC4B,GAA5B,IAC4B,KAA5B,OAEA,CAC4B,GAA5B,IAC4B,KAA5B,OAEA,CAC4B,GAA5B,IAC4B,KAA5B,OAEA,CAC4B,GAA5B,IAC4B,KAA5B,WAMA,CACgB,IAAhB,YACgB,MAAhB,OACgB,KAAhB,CACoB,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","file":"static/dist/js/7.5cab66ddd6852343afdf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table—wrapper\"},[_c('div',{staticClass:\"header-table-operation\"},[_c('search-input',{attrs:{\"placeholder\":'请输入关键字搜索'},on:{\"search\":_vm.onSearch},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}}),_vm._v(\" \"),_c('advanced-search',{attrs:{\"form-widgets\":_vm.getFormWidget},on:{\"submit\":_vm.handleAdvancedSearch}}),_vm._v(\" \"),_c('div',{staticClass:\"operation-container\"},[_c('div',[_c('bk-button',{attrs:{\"title\":'新增IP'},on:{\"click\":function($event){return _vm.$refs['offlineWhiteDialog'].showDialog()}}},[_vm._v(\"\\n                    新增IP\\n                \")]),_vm._v(\" \"),_c('bk-button',{attrs:{\"title\":'批量剔除'},on:{\"click\":_vm.batchDelete}},[_vm._v(\"\\n                    批量删除\\n                \")]),_vm._v(\" \"),(_vm.copyData.length > 0)?_c('bk-button',{attrs:{\"title\":'导出Excel'},on:{\"click\":_vm.toExport}},[_vm._v(\"\\n                    导出Excel\\n                \")]):_vm._e()],1)])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"bkloading\",rawName:\"v-bkloading\",value:({ isLoading: _vm.loading, zIndex: 10 }),expression:\"{ isLoading: loading, zIndex: 10 }\"}]},[_c('common-table',{attrs:{\"data\":_vm.copyData,\"columns\":_vm.columns,\"select-column\":{ visible: true, fixed: true },\"order-column\":{ visible: false, fixed: false },\"settings-fields\":_vm.settingsFields,\"pagination\":_vm.pagination},on:{\"selection-change\":_vm.selectChange,\"handleSettingChange\":_vm.handleSettingChange,\"page-change\":_vm.handlePageChange,\"page-limit-change\":_vm.limitChange},scopedSlots:_vm._u([{key:\"status\",fn:function(record){return [_c('span',{staticClass:\"radius-tip\",style:({ background: _vm.statusColorObj[record.scope.allocate_status] })}),_vm._v(\"\\n                \"+_vm._s(_vm.statusObj[record.scope.allocate_status])+\"\\n            \")]}},{key:\"operation\",fn:function(record){return [_c('bk-popconfirm',{attrs:{\"trigger\":\"click\",\"title\":\"确认删除该名单？\",\"content\":\"删除操作无法撤回，请谨慎操作！\"},on:{\"confirm\":function($event){return _vm.toDelete(record.scope)}}},[_c('bk-button',{staticClass:\"mr10\",attrs:{\"theme\":\"primary\",\"text\":\"\"}},[_vm._v(\"删除\")])],1)]}}])})],1),_vm._v(\" \"),_c('add-offlineWhite',{ref:\"offlineWhiteDialog\",on:{\"submit\":_vm.fetchData}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\nThis program is named IP Management Center and it is a tool to help network administrators manage enterprise IP resource pool reasonably and conveniently.\r\nCopyright (C) <2021>  <Guangzhou Canway Technology Co.,Ltd.>\r\nContact details: jackliu@canway.net or 11th Floor, Building A，Fengxing Plaza No. 67 Tianhe East Road Tianhe District, Guangzhou, China 510630. jackliu, 15927493530\r\nThis file is part of IP Management Center.\r\nIP Management Center is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\r\nIP Management Center is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\r\nYou should have received a copy of the GNU General Public License along with Canway software. If not, see <https://www.gnu.org/licenses/>.\r\n-->\r\n<template>\r\n    <div class=\"table—wrapper\">\r\n        <div class=\"header-table-operation\">\r\n            <search-input\r\n                v-model=\"searchValue\"\r\n                :placeholder=\"'请输入关键字搜索'\"\r\n                @search=\"onSearch\">\r\n            </search-input>\r\n            <!-- 更多查询 -->\r\n            <advanced-search :form-widgets=\"getFormWidget\" @submit=\"handleAdvancedSearch\"></advanced-search>\r\n            <div class=\"operation-container\">\r\n                <div>\r\n                    <bk-button :title=\"'新增IP'\" @click=\"$refs['offlineWhiteDialog'].showDialog()\">\r\n                        新增IP\r\n                    </bk-button>\r\n                    <bk-button :title=\"'批量剔除'\" @click=\"batchDelete\">\r\n                        批量删除\r\n                    </bk-button>\r\n                    <bk-button :title=\"'导出Excel'\" @click=\"toExport\" v-if=\"copyData.length > 0\">\r\n                        导出Excel\r\n                    </bk-button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div v-bkloading=\"{ isLoading: loading, zIndex: 10 }\">\r\n            <common-table\r\n                :data=\"copyData\"\r\n                :columns=\"columns\"\r\n                :select-column=\"{ visible: true, fixed: true }\"\r\n                :order-column=\"{ visible: false, fixed: false }\"\r\n                @selection-change=\"selectChange\"\r\n                :settings-fields=\"settingsFields\"\r\n                :pagination=\"pagination\"\r\n                @handleSettingChange=\"handleSettingChange\"\r\n                @page-change=\"handlePageChange\"\r\n                @page-limit-change=\"limitChange\"\r\n            >\r\n                <template slot=\"status\" slot-scope=\"record\">\r\n                    <span\r\n                        class=\"radius-tip\"\r\n                        :style=\"{ background: statusColorObj[record.scope.allocate_status] }\">\r\n                    </span>\r\n                    {{ statusObj[record.scope.allocate_status] }}\r\n                </template>\r\n                <template slot=\"operation\" slot-scope=\"record\">\r\n                    <bk-popconfirm\r\n                        trigger=\"click\"\r\n                        title=\"确认删除该名单？\"\r\n                        content=\"删除操作无法撤回，请谨慎操作！\"\r\n                        @confirm=\"toDelete(record.scope)\">\r\n                        <bk-button class=\"mr10\" theme=\"primary\" text>删除</bk-button>\r\n                    </bk-popconfirm>\r\n                </template>\r\n            </common-table>\r\n        </div>\r\n        <add-offlineWhite ref=\"offlineWhiteDialog\" @submit=\"fetchData\"></add-offlineWhite>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import searchInput from '@/components/searchInput'\r\n    import commonTable from '@/components/table/comTable'\r\n    import advancedSearch from '@/components/popover/advancedSearch'\r\n    import addOfflineWhite from './addOfflineWhite'\r\n\r\n    export default {\r\n        name: 'home',\r\n        components: {\r\n            commonTable,\r\n            searchInput,\r\n            advancedSearch,\r\n            addOfflineWhite\r\n        },\r\n        data() {\r\n            return {\r\n                addIpVisible: false,\r\n                searchValue: '',\r\n                copyData: [],\r\n                columns: [\r\n                    {\r\n                        label: '操作',\r\n                        key: 'operation',\r\n                        width: '60px',\r\n                        scopedSlots: { customRender: 'operation' }\r\n                    }\r\n                ],\r\n                // 分配状态的颜色字典\r\n                statusColorObj: {\r\n                    '2': '#91B6F5',\r\n                    '1': '#7ED4B2',\r\n                    '4': '#9DB1CE',\r\n                    '3': '#E9B76E'\r\n                },\r\n                statusObj: {\r\n                    '1': '未分配',\r\n                    '2': '已分配',\r\n                    '3': '待回收',\r\n                    '4': '已回收'\r\n                },\r\n                selectedRows: [],\r\n                pagination: {\r\n                    current: 1,\r\n                    count: 3,\r\n                    limit: 10\r\n                },\r\n                // 动态表头的数据集合\r\n                settingsFields: [\r\n                    {\r\n                        key: 'ip',\r\n                        label: 'IP地址',\r\n                        disabled: true,\r\n                        attr: {\r\n                            minWidth: '100px'\r\n                        },\r\n                        conditionAttr: {\r\n                            widget: 'input',\r\n                            placeholder: '请输入IP地址',\r\n                            attr: {\r\n                                clearable: true\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        key: 'ip_pool',\r\n                        label: '地址池名称',\r\n                        attr: {\r\n                            minWidth: '100px'\r\n                        },\r\n                        conditionAttr: {\r\n                            widget: 'data-select',\r\n                            label: '地址池',\r\n                            custom: true,\r\n                            name: 'ip_pool',\r\n                            placeholder: '请输入地址池',\r\n                            attr: {\r\n                                clearable: true,\r\n                                remote: true,\r\n                                filterable: true,\r\n                                searchable: true,\r\n                                popperAppendToBody: false,\r\n                                url: 'searchPool',\r\n                                detailUrl: 'poolDetail',\r\n                                initFlag: true\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        key: 'ip_net',\r\n                        label: 'IP子网',\r\n                        attr: {\r\n                            minWidth: '150px'\r\n                        },\r\n                        conditionAttr: {\r\n                            widget: 'ip-net-select',\r\n                            placeholder: '请选择子网',\r\n                            label: '子网',\r\n                            custom: true,\r\n                            name: 'ip_net',\r\n                            attr: {\r\n                                nameKey: 'ip_pool',\r\n                                remote: true,\r\n                                filterable: true,\r\n                                searchable: true,\r\n                                popperAppendToBody: false,\r\n                                clearable: true,\r\n                                url: 'search_ip_net',\r\n                                detailUrl: 'poolNetDetail',\r\n                                initFlag: true\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        key: 'bk_cloud_id',\r\n                        label: '云区域',\r\n                        attr: {\r\n                            minWidth: '100px'\r\n                        },\r\n                        conditionAttr: {\r\n                            widget: 'input',\r\n                            placeholder: '请输入云区域',\r\n                            attr: {\r\n                                clearable: true,\r\n                                type: 'number',\r\n                                min: 0\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        key: 'gateway',\r\n                        label: '网关',\r\n                        attr: {\r\n                            minWidth: '100px'\r\n                        },\r\n                        conditionAttr: {\r\n                            widget: 'input',\r\n                            placeholder: '请输入网关',\r\n                            attr: {\r\n                                clearable: true\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        key: 'dns',\r\n                        label: 'DNS服务器',\r\n                        attr: {\r\n                            minWidth: '100px'\r\n                        },\r\n                        conditionAttr: {\r\n                            widget: 'input',\r\n                            label: 'DNS',\r\n                            placeholder: '请输入DNS服务器',\r\n                            attr: {\r\n                                clearable: true\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        key: 'allocate_status',\r\n                        label: '分配状态',\r\n                        attr: {\r\n                            minWidth: '100px'\r\n                        },\r\n                        scopedSlots: { customRender: 'status' },\r\n                        conditionAttr: {\r\n                            widget: 'data-select',\r\n                            custom: true,\r\n                            placeholder: '请选择相关数据',\r\n                            size: 'small',\r\n                            defaultValue: [],\r\n                            attr: {\r\n                                searchable: false,\r\n                                multiple: false,\r\n                                popperAppendToBody: false,\r\n                                clearable: true,\r\n                                options: [\r\n                                    {\r\n                                        id: '1',\r\n                                        name: '未分配'\r\n                                    },\r\n                                    {\r\n                                        id: '2',\r\n                                        name: '已分配'\r\n                                    },\r\n                                    {\r\n                                        id: '3',\r\n                                        name: '待回收'\r\n                                    },\r\n                                    {\r\n                                        id: '4',\r\n                                        name: '已回收'\r\n                                    }\r\n                                ]\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        key: 'create_at',\r\n                        label: '添加时间',\r\n                        attr: {\r\n                            minWidth: '160px',\r\n                            showOverflowTooltip: true\r\n                        },\r\n                        conditionAttr: {\r\n                            widget: 'date-picker',\r\n                            placeholder: '请选择...',\r\n                            attr: {\r\n                                style: { width: '100%' },\r\n                                transfer: true,\r\n                                clearable: true,\r\n                                type: 'daterange',\r\n                                shortcutClose: true,\r\n                                useShortcutText: false,\r\n                                shortcuts: [\r\n                                    {\r\n                                        text: '今天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            return [start, end]\r\n                                        }\r\n                                    },\r\n                                    {\r\n                                        text: '近7天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\r\n                                            return [start, end]\r\n                                        }\r\n                                    },\r\n                                    {\r\n                                        text: '近15天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 15)\r\n                                            return [start, end]\r\n                                        }\r\n                                    },\r\n                                    {\r\n                                        text: '近30天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\r\n                                            return [start, end]\r\n                                        }\r\n                                    }\r\n                                ]\r\n                            }\r\n                        }\r\n                    }\r\n                ],\r\n                // 高级搜索面板的条件配置数据\r\n                formWidgets: [],\r\n                // 批量修改的数据\r\n                formData: {\r\n                    name: ''\r\n                },\r\n                loading: false,\r\n                // 搜索条件的缓存数据\r\n                searchParams: {}\r\n            }\r\n        },\r\n        computed: {\r\n            getFormWidget() {\r\n                const newWidgets = this.formWidgets.concat()\r\n                // 处理新的数组变量\r\n                newWidgets.pop()\r\n                return newWidgets\r\n            }\r\n        },\r\n        watch: {\r\n            searchValue(newV) {\r\n                if (!newV) {\r\n                    this.onSearch()\r\n                }\r\n            }\r\n        },\r\n        created() {\r\n            const stateColumns = this.$store.state.product.tableColumns.ip_offline\r\n            if (stateColumns.length > 0) {\r\n                this.columns = [...stateColumns]\r\n            } else {\r\n                this.columns = this.settingsFields.slice(0, 7).concat(this.columns)\r\n            }\r\n            const adnvancedWidget = this.columns.map(item => {\r\n                return {\r\n                    name: item.key,\r\n                    label: item.label,\r\n                    ...item.conditionAttr\r\n                }\r\n            })\r\n            this.formWidgets = [...adnvancedWidget]\r\n            this.fetchData()\r\n        },\r\n        methods: {\r\n            async fetchData(params = {}) {\r\n                this.loading = true\r\n                try {\r\n                    const res = await this.$api.search_offlineWhite({\r\n                        page: this.pagination.current,\r\n                        page_size: this.pagination.limit,\r\n                        ...this.searchParams,\r\n                        ...params\r\n                    })\r\n                    if (res.result) {\r\n                        const _data = res.data.results\r\n                        this.copyData = _data.map(item => {\r\n                            delete item['ip']\r\n                            return {...item['ip_obj'], ...item}\r\n                        })\r\n                        this.pagination.count = res.data.count\r\n                    } else {\r\n                        this._errorMessage(res.message)\r\n                    }\r\n                } finally {\r\n                    this.loading = false\r\n                }\r\n            },\r\n            selectChange(selection) {\r\n                this.selectedRows = selection\r\n            },\r\n            handlePageChange(page) {\r\n                this.pagination.current = page\r\n                this.fetchData()\r\n            },\r\n            limitChange(limit) {\r\n                this.pagination.limit = limit\r\n                this.pagination.current = 1\r\n                this.fetchData()\r\n            },\r\n            handleAdvancedSearch(params) {\r\n                Object.keys(params).forEach(item => {\r\n                    if (item === 'create_at') {\r\n                        if (params[item][0] && params[item][1]) {\r\n                            params[item + '__gte'] = this.$moment(params[item][0]).format('YYYY-MM-DD hh:mm:ss')\r\n                            params[item + '__lte'] = this.$moment(params[item][1]).format('YYYY-MM-DD hh:mm:ss')\r\n                            delete params[item]\r\n                        } else {\r\n                            delete params[item]\r\n                        }\r\n                    }\r\n                    if (!params[item]) {\r\n                        delete params[item]\r\n                    }\r\n                })\r\n                this.pagination.current = 1\r\n                this.searchParams = {...params}\r\n                this.fetchData({...params})\r\n            },\r\n            // 批量剔除\r\n            async batchDelete() {\r\n                if (this.selectedRows.length === 0) {\r\n                    this._warnMessage('请先选择要剔除离线白名单的Ip')\r\n                    return false\r\n                }\r\n                const idList = []\r\n                for (const item of this.selectedRows) {\r\n                    idList.push(item.id)\r\n                }\r\n                const res = await this.$api.delete_multi_offlineWhite({\r\n                    ip_ids: idList\r\n                })\r\n                if (res.result) {\r\n                    this._successMessage('删除成功')\r\n                    this.onSearch()\r\n                } else {\r\n                    this._errorMessage(res.message)\r\n                }\r\n            },\r\n            async toDelete(scope) {\r\n                const res = await this.$api.delete_single_offlineWhite({\r\n                    id: scope.id\r\n                })\r\n                if (res.result) {\r\n                    this._successMessage('删除成功')\r\n                    if (this.pagination.current > 1 && this.copyData.length === 1) {\r\n                        this.pagination.current--\r\n                    }\r\n                    this.fetchData()\r\n                } else {\r\n                    this._errorMessage(res.message)\r\n                }\r\n            },\r\n            handleSettingChange(datas, columns) {\r\n                this.formWidgets = [...datas]\r\n                // vuex缓存表格头设置的信息\r\n                this.$store.commit('setTableColumns', {column: columns, key: 'ip_offline'})\r\n            },\r\n            onSearch(value) {\r\n                this.searchParams = {search: value}\r\n                this.pagination.current = 1\r\n                this.fetchData({\r\n                    search: value\r\n                })\r\n            },\r\n            // 导出excel\r\n            toExport() {\r\n                let _params = ''\r\n                Object.keys(this.searchParams).forEach(item => {\r\n                    _params = _params + `&${item}=${this.searchParams[item]}`\r\n                })\r\n                const url = window.siteUrl + 'offline_except/export_excel/?page=1&page_size=-1' + _params\r\n                window.open(url)\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.radius-tip {\r\n    display: inline-block;\r\n    width: 10px;\r\n    height: 10px;\r\n    border-radius: 50%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./addOfflineWhite.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./addOfflineWhite.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addOfflineWhite.vue?vue&type=template&id=4709efd7&scoped=true&\"\nimport script from \"./addOfflineWhite.vue?vue&type=script&lang=js&\"\nexport * from \"./addOfflineWhite.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addOfflineWhite.vue?vue&type=style&index=0&id=4709efd7&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4709efd7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('bk-dialog',{staticClass:\"modifyDialog\",attrs:{\"theme\":\"primary\",\"mask-close\":false,\"header-position\":'left',\"title\":\"新增IP\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('bk-form',{ref:\"offlineForm\",attrs:{\"label-width\":80,\"model\":_vm.formData,\"rules\":_vm.rules}},[_c('bk-form-item',{attrs:{\"label\":\"地址池\",\"required\":true,\"property\":'apply_ip_pool'}},[_c('data-select',{attrs:{\"disabled\":false,\"placeholder\":'请选择地址池',\"attr\":{\n                    remote: true,\n                    filterable: true,\n                    searchable: true,\n                    popperAppendToBody: false,\n                    clearable: true,\n                    url: 'searchPool',\n                    detailUrl: 'poolDetail'\n                }},model:{value:(_vm.formData.apply_ip_pool),callback:function ($$v) {_vm.$set(_vm.formData, \"apply_ip_pool\", $$v)},expression:\"formData.apply_ip_pool\"}})],1),_vm._v(\" \"),_c('bk-form-item',{attrs:{\"label\":\"子网\",\"required\":true,\"property\":'ip_net'}},[_c('ip-net-select',{attrs:{\"disabled\":false,\"placeholder\":'请选择子网',\"form-data\":_vm.formData,\"attr\":{\n                    nameKey: 'apply_ip_pool',\n                    remote: true,\n                    filterable: true,\n                    searchable: true,\n                    popperAppendToBody: false,\n                    clearable: true,\n                    url: 'search_ip_net',\n                    detailUrl: 'poolNetDetail'\n                }},on:{\"row-change\":_vm.netSelectChange},model:{value:(_vm.formData.ip_net),callback:function ($$v) {_vm.$set(_vm.formData, \"ip_net\", $$v)},expression:\"formData.ip_net\"}})],1),_vm._v(\" \"),_c('bk-form-item',{attrs:{\"label\":\"IP\",\"required\":true,\"property\":'ip_list'}},[_c('bk-input',{attrs:{\"type\":\"textarea\",\"rows\":6,\"placeholder\":\"多个不连续IP用英文逗号隔开，连续IP中间用横杠连接，如：1.1.1.1,2.2.2.2,3.3.3.3-3.3.3.10（IP必须在这个子网内，点击确定将进行检测）\"},model:{value:(_vm.formData.ip_list),callback:function ($$v) {_vm.$set(_vm.formData, \"ip_list\", $$v)},expression:\"formData.ip_list\"}})],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('bk-button',{staticStyle:{\"margin-left\":\"24px\"},attrs:{\"ext-cls\":\"mr5\",\"theme\":\"primary\",\"title\":\"保存\",\"loading\":_vm.isConfirm},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.submitData.apply(null, arguments)}}},[_vm._v(\"\\n            确定\\n        \")]),_vm._v(\" \"),_c('bk-button',{attrs:{\"ext-cls\":\"mr5\",\"theme\":\"default\",\"title\":\"取消\"},on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"\\n            取消\\n        \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\nThis program is named IP Management Center and it is a tool to help network administrators manage enterprise IP resource pool reasonably and conveniently.\r\nCopyright (C) <2021>  <Guangzhou Canway Technology Co.,Ltd.>\r\nContact details: jackliu@canway.net or 11th Floor, Building A，Fengxing Plaza No. 67 Tianhe East Road Tianhe District, Guangzhou, China 510630. jackliu, 15927493530\r\nThis file is part of IP Management Center.\r\nIP Management Center is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\r\nIP Management Center is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\r\nYou should have received a copy of the GNU General Public License along with Canway software. If not, see <https://www.gnu.org/licenses/>.\r\n-->\r\n<template>\r\n    <bk-dialog v-model=\"visible\"\r\n        theme=\"primary\"\r\n        class=\"modifyDialog\"\r\n        :mask-close=\"false\"\r\n        :header-position=\"'left'\"\r\n        title=\"新增IP\">\r\n        <bk-form\r\n            :label-width=\"80\"\r\n            :model=\"formData\"\r\n            :rules=\"rules\"\r\n            ref=\"offlineForm\">\r\n            <bk-form-item\r\n                label=\"地址池\"\r\n                :required=\"true\"\r\n                :property=\"'apply_ip_pool'\">\r\n                <data-select\r\n                    :disabled=\"false\" v-model=\"formData.apply_ip_pool\"\r\n                    :placeholder=\"'请选择地址池'\"\r\n                    :attr=\"{\r\n                        remote: true,\r\n                        filterable: true,\r\n                        searchable: true,\r\n                        popperAppendToBody: false,\r\n                        clearable: true,\r\n                        url: 'searchPool',\r\n                        detailUrl: 'poolDetail'\r\n                    }\"\r\n                ></data-select>\r\n            </bk-form-item>\r\n            <bk-form-item\r\n                label=\"子网\"\r\n                :required=\"true\"\r\n                :property=\"'ip_net'\">\r\n                <ip-net-select\r\n                    :disabled=\"false\" v-model=\"formData.ip_net\"\r\n                    :placeholder=\"'请选择子网'\"\r\n                    :form-data=\"formData\"\r\n                    :attr=\"{\r\n                        nameKey: 'apply_ip_pool',\r\n                        remote: true,\r\n                        filterable: true,\r\n                        searchable: true,\r\n                        popperAppendToBody: false,\r\n                        clearable: true,\r\n                        url: 'search_ip_net',\r\n                        detailUrl: 'poolNetDetail'\r\n                    }\"\r\n                    @row-change=\"netSelectChange\"\r\n                ></ip-net-select>\r\n            </bk-form-item>\r\n            <bk-form-item\r\n                label=\"IP\"\r\n                :required=\"true\"\r\n                :property=\"'ip_list'\">\r\n                <bk-input type=\"textarea\"\r\n                    :rows=\"6\"\r\n                    v-model=\"formData.ip_list\"\r\n                    placeholder=\"多个不连续IP用英文逗号隔开，连续IP中间用横杠连接，如：1.1.1.1,2.2.2.2,3.3.3.3-3.3.3.10（IP必须在这个子网内，点击确定将进行检测）\">\r\n                </bk-input>\r\n            </bk-form-item>\r\n        </bk-form>\r\n        <div slot=\"footer\">\r\n            <bk-button\r\n                ext-cls=\"mr5\"\r\n                theme=\"primary\"\r\n                title=\"保存\"\r\n                :loading=\"isConfirm\"\r\n                @click.stop.prevent=\"submitData\"\r\n                style=\"margin-left: 24px;\">\r\n                确定\r\n            </bk-button>\r\n            <bk-button\r\n                ext-cls=\"mr5\"\r\n                theme=\"default\"\r\n                title=\"取消\"\r\n                @click=\"visible = false\">\r\n                取消\r\n            </bk-button>\r\n        </div>\r\n    </bk-dialog>\r\n</template>\r\n\r\n<script>\r\n    import dataSelect from '@/components/formWidget/dataSelect'\r\n    import ipNetSelect from '@/components/formWidget/ipNetSelect'\r\n    export default {\r\n        name: 'add-offline-white',\r\n        components: {\r\n            dataSelect,\r\n            ipNetSelect\r\n        },\r\n        data() {\r\n            return {\r\n                visible: false,\r\n                rules: {\r\n                    apply_ip_pool: [\r\n                        {\r\n                            required: true,\r\n                            message: '必选项',\r\n                            trigger: 'blur'\r\n                        }\r\n                    ],\r\n                    ip_net: [\r\n                        {\r\n                            required: true,\r\n                            message: '必选项',\r\n                            trigger: 'blur'\r\n                        }\r\n                    ],\r\n                    ip_list: [\r\n                        {\r\n                            required: true,\r\n                            message: '必选项',\r\n                            trigger: 'blur'\r\n                        }\r\n                    ]\r\n                },\r\n                formData: {},\r\n                addressPool: {\r\n                    widget: 'data-select',\r\n                    placeholder: '请选择地址池',\r\n                    attr: {\r\n                        remote: true,\r\n                        filterable: true,\r\n                        searchable: true,\r\n                        popperAppendToBody: false,\r\n                        clearable: true,\r\n                        url: 'searchPool',\r\n                        detailUrl: 'poolDetail'\r\n                    }\r\n                },\r\n                isConfirm: false\r\n            }\r\n        },\r\n        methods: {\r\n            showDialog() {\r\n                this.visible = true\r\n                this.formData = {\r\n                    ip_pool: '',\r\n                    ip_net: '',\r\n                    ip_list: ''\r\n                }\r\n                this.$nextTick(() => {\r\n                    setTimeout(() => {\r\n                        const bodyHeight = document.body.clientHeight\r\n                        const contentHeight = document.getElementsByClassName('bk-dialog-content')[0].offsetHeight\r\n                        if (contentHeight === 0) return false\r\n                        const dialog = document.getElementsByClassName('bk-dialog')[0]\r\n                        if (contentHeight < bodyHeight) {\r\n                            const TOP = parseInt((bodyHeight - contentHeight) / 2)\r\n                            dialog.style.top = TOP + 'px'\r\n                        } else {\r\n                            dialog.style.top = 50 + 'px'\r\n                        }\r\n                    }, 50)\r\n                })\r\n            },\r\n            submitData() {\r\n                this.isConfirm = true\r\n                this.$refs.offlineForm.validate().then(validator => {\r\n                    const _formData = JSON.parse(JSON.stringify(this.formData))\r\n                    // 检测IP是否在子网下\r\n                    this.$api.ip_check({\r\n                        ip_net: _formData['ip_net'],\r\n                        ip_list: _formData['ip_list'].split(',')\r\n                    }).then(res => {\r\n                        if (res.result) {\r\n                            this.$api.add_offlineWhite({\r\n                                ip_net: _formData['ip_net'],\r\n                                ip_list: _formData['ip_list'].split(',')\r\n                            }).then(res => {\r\n                                if (res.result) {\r\n                                    this.$bkMessage({\r\n                                        theme: 'success',\r\n                                        message: res.message\r\n                                    })\r\n                                    this.$emit('submit')\r\n                                    this.visible = false\r\n                                } else {\r\n                                    this.$bkMessage({\r\n                                        theme: 'error',\r\n                                        message: res.message\r\n                                    })\r\n                                }\r\n                            })\r\n                        } else {\r\n                            this._errorMessage(res.message)\r\n                        }\r\n                    }).finally(() => {\r\n                        this.isConfirm = false\r\n                    })\r\n                }, validator => {\r\n                    this.isConfirm = false\r\n                })\r\n            },\r\n            netSelectChange(record) {\r\n                const _list = ['bk_cloud_id', 'gateway', 'dns', 'vlan_id']\r\n                if (record) {\r\n                    _list.forEach(list => {\r\n                        this.formData[list] = record[list]\r\n                    })\r\n                    return false\r\n                }\r\n                _list.forEach(list => {\r\n                    this.formData[list] = ''\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n/deep/ .bk-sideslider-footer {\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n}\r\n.add-distribute-wrapper {\r\n    padding: 15px 25px 15px 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=53c85bc4&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=53c85bc4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53c85bc4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}