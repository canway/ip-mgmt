{"version":3,"sources":["webpack:///./src/views/Ip/components/import_ips.vue?c25f","webpack:///./src/views/Ip/components/addReserve.vue?8f4e","webpack:///src/views/Ip/components/addReserve.vue","webpack:///./src/views/Ip/components/import_ips.vue","webpack:///./src/views/Ip/index.vue","webpack:///./src/views/Ip/index.vue?2aa5","webpack:///src/views/Ip/index.vue","webpack:///./src/views/Ip/index.vue?3dad","webpack:///./src/views/Ip/components/import_ips.vue?4654","webpack:///./src/views/Ip/components/addReserve.vue","webpack:///./src/views/Ip/components/addReserve.vue?1dc1","webpack:///src/views/Ip/components/import_ips.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","loading","on","onConfirm","model","value","callback","$$v","visible","expression","handleUpload","_v","toDownload","_s","file","name","handleClose","_e","staticRenderFns","$event","slot","ref","formData","rules","remote","filterable","searchable","popperAppendToBody","clearable","url","detailUrl","defaultOption","ipPoolDefaultOption","$set","nameKey","ipNetDefaultOption","netSelectChange","netChange","staticStyle","isConfirm","stopPropagation","preventDefault","submitData","apply","arguments","component","onSearch","searchValue","formWidgets","handleAdvancedSearch","datas","length","toExport","batchCheckDisable","batchCheck","batchModify","dropdownShow","dropdownHide","class","isDropdownShow","handleRecycle","handleVisible","directives","rawName","isLoading","zIndex","columns","fixed","settingsFields","pagination","selectChange","handleSettingChange","handleSortChange","handlePageChange","limitChange","scopedSlots","_u","key","fn","record","style","background","statusColorObj","scope","allocate_status","statusObj","color","online_status","reserve_status","checking","ipCheck","batchWidgets","toComfirmModify","batchModifyVisible","selectedRows","fetchData"],"mappings":"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,WAAxB,EACwB,QAAxB,EACwB,YAAxB,EACwB,YAAxB,EACwB,oBAAxB,EACwB,IAAxB,aACwB,UAAxB,aACwB,UAAxB,KAIA,CACgB,MAAhB,OACgB,IAAhB,cACgB,UAAhB,EACgB,KAAhB,CACoB,SAApB,SAEgB,cAAhB,CACoB,OAApB,gBACoB,YAApB,QACoB,MAApB,KACoB,QAApB,EACoB,KAApB,SACoB,KAApB,CACwB,QAAxB,UACwB,QAAxB,EACwB,YAAxB,EACwB,YAAxB,EACwB,oBAAxB,EACwB,WAAxB,EACwB,IAAxB,gBACwB,UAAxB,gBACwB,UAAxB,KAIA,CACgB,MAAhB,MACgB,IAAhB,cACgB,MAAhB,QACgB,cAAhB,CACoB,OAApB,QACoB,YAApB,SACoB,KAApB,CACwB,WAAxB,KAIA,CACgB,MAAhB,KACgB,IAAhB,UACgB,KAAhB,CACoB,SAApB,SAEgB,cAAhB,CACoB,OAApB,QACoB,YAApB,QACoB,KAApB,CACwB,WAAxB,KAIA,CACgB,MAAhB,SACgB,IAAhB,MACgB,KAAhB,CACoB,SAApB,SAEgB,cAAhB,CACoB,OAApB,QACoB,MAApB,MACoB,YAApB,SACoB,KAApB,CACwB,WAAxB,KAIA,CACgB,MAAhB,OACgB,IAAhB,kBACgB,YAAhB,wBACgB,cAAhB,CACoB,OAApB,cACoB,QAApB,EACoB,YAApB,UACoB,KAApB,QACoB,aAApB,GACoB,KAApB,CACwB,YAAxB,EACwB,UAAxB,EACwB,oBAAxB,EACwB,WAAxB,EACwB,QAAxB,CACA,CAC4B,GAA5B,IAC4B,KAA5B,OAEA,CAC4B,GAA5B,IAC4B,KAA5B,OAEA,CAC4B,GAA5B,IAC4B,KAA5B,OAEA,CAC4B,GAA5B,IAC4B,KAA5B,WAMA,CACgB,MAAhB,OACgB,IAAhB,gBACgB,YAAhB,+BACgB,cAAhB,CACoB,OAApB,cACoB,QAApB,EACoB,YAApB,UACoB,KAApB,QACoB,aAApB,GACoB,KAApB,CACwB,YAAxB,EACwB,UAAxB,EACwB,oBAAxB,EACwB,WAAxB,EACwB,QAAxB,CACA,CAC4B,GAA5B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","file":"static/dist/js/5.13a9f7abceeb9aabbba5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('bk-dialog',{staticClass:\"importDialog\",attrs:{\"title\":\"导入分配\",\"mask-close\":false,\"show-mask\":true,\"draggable\":false,\"loading\":_vm.loading,\"header-position\":'left',\"width\":480,\"auto-close\":false},on:{\"confirm\":_vm.onConfirm},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('div',{staticClass:\"upload-wrapper\"},[_c('bk-upload',{attrs:{\"tip\":'只允许上传csv,xlsx的文件',\"with-credentials\":true,\"custom-request\":_vm.handleUpload,\"limit\":1,\"ext-cls\":'upload-wrapper',\"url\":'0',\"accept\":'.csv, .xlsx'}}),_vm._v(\" \"),_c('span',{staticClass:\"template-file\",on:{\"click\":_vm.toDownload}},[_vm._v(\"模板文件.xlsx\")])],1),_vm._v(\" \"),(_vm.file)?_c('p',{staticClass:\"file-list-wrapper\"},[_vm._v(\"\\n        \"+_vm._s(_vm.file.name)+\"\\n        \"),_c('i',{staticClass:\"bk-icon icon-close\",on:{\"click\":_vm.handleClose}})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('bk-sideslider',{attrs:{\"width\":540,\"is-show\":_vm.visible,\"quick-close\":false},on:{\"update:isShow\":function($event){_vm.visible=$event},\"update:is-show\":function($event){_vm.visible=$event}}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"\\n        新增保留\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"add-distribute-wrapper\",attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('bk-form',{ref:\"reserveForm\",attrs:{\"label-width\":145,\"model\":_vm.formData,\"rules\":_vm.rules}},[_c('bk-form-item',{attrs:{\"label\":\"地址池\",\"required\":true,\"property\":'apply_ip_pool'}},[_c('data-select',{attrs:{\"disabled\":false,\"placeholder\":'请选择地址池',\"attr\":{\n                        remote: true,\n                        filterable: true,\n                        searchable: true,\n                        popperAppendToBody: false,\n                        clearable: true,\n                        url: 'searchPool',\n                        detailUrl: 'poolDetail',\n                        defaultOption: _vm.ipPoolDefaultOption\n                    }},model:{value:(_vm.formData.apply_ip_pool),callback:function ($$v) {_vm.$set(_vm.formData, \"apply_ip_pool\", $$v)},expression:\"formData.apply_ip_pool\"}})],1),_vm._v(\" \"),_c('bk-form-item',{attrs:{\"label\":\"子网\",\"required\":true,\"property\":'ip_net'}},[_c('ip-net-select',{attrs:{\"disabled\":false,\"placeholder\":'请选择子网',\"form-data\":_vm.formData,\"attr\":{\n                        nameKey: 'apply_ip_pool',\n                        remote: true,\n                        filterable: true,\n                        searchable: true,\n                        popperAppendToBody: false,\n                        clearable: true,\n                        url: 'search_ip_net',\n                        detailUrl: 'poolNetDetail',\n                        defaultOption: _vm.ipNetDefaultOption\n                    }},on:{\"row-change\":_vm.netSelectChange,\"change\":_vm.netChange},model:{value:(_vm.formData.ip_net),callback:function ($$v) {_vm.$set(_vm.formData, \"ip_net\", $$v)},expression:\"formData.ip_net\"}})],1),_vm._v(\" \"),_c('bk-form-item',{attrs:{\"label\":\"待分配IP\",\"required\":true,\"property\":'ips'}},[_c('bk-input',{attrs:{\"type\":\"textarea\",\"rows\":6,\"placeholder\":\"多个不连续IP用英文逗号隔开，连续IP中间用横杠连接，如：1.1.1.1,2.2.2.2,3.3.3.3-3.3.3.10（IP必须在这个子网内，点击确定将进行检测）\"},model:{value:(_vm.formData.ips),callback:function ($$v) {_vm.$set(_vm.formData, \"ips\", $$v)},expression:\"formData.ips\"}})],1),_vm._v(\" \"),_c('bk-form-item',{attrs:{\"label\":\"云区域\",\"property\":'vlan_id'}},[_c('bk-input',{attrs:{\"disabled\":true,\"placeholder\":\"请输入云区域\"},model:{value:(_vm.formData.vlan_id),callback:function ($$v) {_vm.$set(_vm.formData, \"vlan_id\", $$v)},expression:\"formData.vlan_id\"}})],1),_vm._v(\" \"),_c('bk-form-item',{attrs:{\"label\":\"网关\",\"property\":'gateway'}},[_c('bk-input',{attrs:{\"disabled\":true,\"placeholder\":\"请输入网关\"},model:{value:(_vm.formData.gateway),callback:function ($$v) {_vm.$set(_vm.formData, \"gateway\", $$v)},expression:\"formData.gateway\"}})],1),_vm._v(\" \"),_c('bk-form-item',{attrs:{\"label\":\"DNS服务器\",\"property\":'dns'}},[_c('bk-input',{attrs:{\"disabled\":true,\"placeholder\":\"请输入DNS服务器\"},model:{value:(_vm.formData.dns),callback:function ($$v) {_vm.$set(_vm.formData, \"dns\", $$v)},expression:\"formData.dns\"}})],1),_vm._v(\" \"),_c('bk-form-item',{attrs:{\"label\":\"VLAN ID\",\"property\":'vlan_id'}},[_c('bk-input',{attrs:{\"disabled\":true,\"placeholder\":\"请输入VLAN ID\"},model:{value:(_vm.formData.vlan_id),callback:function ($$v) {_vm.$set(_vm.formData, \"vlan_id\", $$v)},expression:\"formData.vlan_id\"}})],1),_vm._v(\" \"),_c('bk-form-item',{attrs:{\"label\":\"备注\",\"property\":'reason'}},[_c('bk-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入\"},model:{value:(_vm.formData.reason),callback:function ($$v) {_vm.$set(_vm.formData, \"reason\", $$v)},expression:\"formData.reason\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('bk-button',{staticStyle:{\"margin-left\":\"24px\"},attrs:{\"ext-cls\":\"mr5\",\"theme\":\"primary\",\"title\":\"保存\",\"loading\":_vm.isConfirm},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.submitData.apply(null, arguments)}}},[_vm._v(\"\\n            确定\\n        \")]),_vm._v(\" \"),_c('bk-button',{attrs:{\"ext-cls\":\"mr5\",\"theme\":\"default\",\"title\":\"取消\"},on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"\\n            取消\\n        \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\nThis program is named IP Management Center and it is a tool to help network administrators manage enterprise IP resource pool reasonably and conveniently.\r\nCopyright (C) <2021>  <Guangzhou Canway Technology Co.,Ltd.>\r\nContact details: jackliu@canway.net or 11th Floor, Building A，Fengxing Plaza No. 67 Tianhe East Road Tianhe District, Guangzhou, China 510630. jackliu, 15927493530\r\nThis file is part of IP Management Center.\r\nIP Management Center is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\r\nIP Management Center is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\r\nYou should have received a copy of the GNU General Public License along with Canway software. If not, see <https://www.gnu.org/licenses/>.\r\n-->\r\n<template>\r\n    <bk-sideslider\r\n        :width=\"540\"\r\n        :is-show.sync=\"visible\"\r\n        :quick-close=\"false\">\r\n        <div slot=\"header\">\r\n            新增保留\r\n        </div>\r\n        <div\r\n            slot=\"content\"\r\n            class=\"add-distribute-wrapper\">\r\n            <bk-form\r\n                :label-width=\"145\"\r\n                :model=\"formData\"\r\n                :rules=\"rules\"\r\n                ref=\"reserveForm\">\r\n                <bk-form-item\r\n                    label=\"地址池\"\r\n                    :required=\"true\"\r\n                    :property=\"'apply_ip_pool'\">\r\n                    <data-select\r\n                        :disabled=\"false\" v-model=\"formData.apply_ip_pool\"\r\n                        :placeholder=\"'请选择地址池'\"\r\n                        :attr=\"{\r\n                            remote: true,\r\n                            filterable: true,\r\n                            searchable: true,\r\n                            popperAppendToBody: false,\r\n                            clearable: true,\r\n                            url: 'searchPool',\r\n                            detailUrl: 'poolDetail',\r\n                            defaultOption: ipPoolDefaultOption\r\n                        }\"\r\n                    ></data-select>\r\n                </bk-form-item>\r\n                <bk-form-item\r\n                    label=\"子网\"\r\n                    :required=\"true\"\r\n                    :property=\"'ip_net'\">\r\n                    <ip-net-select\r\n                        :disabled=\"false\" v-model=\"formData.ip_net\"\r\n                        :placeholder=\"'请选择子网'\"\r\n                        :form-data=\"formData\"\r\n                        :attr=\"{\r\n                            nameKey: 'apply_ip_pool',\r\n                            remote: true,\r\n                            filterable: true,\r\n                            searchable: true,\r\n                            popperAppendToBody: false,\r\n                            clearable: true,\r\n                            url: 'search_ip_net',\r\n                            detailUrl: 'poolNetDetail',\r\n                            defaultOption: ipNetDefaultOption\r\n                        }\"\r\n                        @row-change=\"netSelectChange\"\r\n                        @change=\"netChange\"\r\n                    ></ip-net-select>\r\n                </bk-form-item>\r\n                <bk-form-item\r\n                    label=\"待分配IP\"\r\n                    :required=\"true\"\r\n                    :property=\"'ips'\">\r\n                    <bk-input type=\"textarea\"\r\n                        :rows=\"6\"\r\n                        v-model=\"formData.ips\"\r\n                        placeholder=\"多个不连续IP用英文逗号隔开，连续IP中间用横杠连接，如：1.1.1.1,2.2.2.2,3.3.3.3-3.3.3.10（IP必须在这个子网内，点击确定将进行检测）\">\r\n                    </bk-input>\r\n                </bk-form-item>\r\n                <bk-form-item\r\n                    label=\"云区域\"\r\n                    :property=\"'vlan_id'\">\r\n                    <bk-input\r\n                        v-model=\"formData.vlan_id\"\r\n                        :disabled=\"true\"\r\n                        placeholder=\"请输入云区域\">\r\n                    </bk-input>\r\n                </bk-form-item>\r\n                <bk-form-item\r\n                    label=\"网关\"\r\n                    :property=\"'gateway'\">\r\n                    <bk-input\r\n                        v-model=\"formData.gateway\"\r\n                        :disabled=\"true\"\r\n                        placeholder=\"请输入网关\">\r\n                    </bk-input>\r\n                </bk-form-item>\r\n                <bk-form-item\r\n                    label=\"DNS服务器\"\r\n                    :property=\"'dns'\">\r\n                    <bk-input\r\n                        v-model=\"formData.dns\"\r\n                        :disabled=\"true\"\r\n                        placeholder=\"请输入DNS服务器\">\r\n                    </bk-input>\r\n                </bk-form-item>\r\n                <bk-form-item\r\n                    label=\"VLAN ID\"\r\n                    :property=\"'vlan_id'\">\r\n                    <bk-input\r\n                        v-model=\"formData.vlan_id\"\r\n                        :disabled=\"true\"\r\n                        placeholder=\"请输入VLAN ID\">\r\n                    </bk-input>\r\n                </bk-form-item>\r\n                <bk-form-item\r\n                    label=\"备注\"\r\n                    :property=\"'reason'\">\r\n                    <bk-input type=\"textarea\"\r\n                        v-model=\"formData.reason\"\r\n                        placeholder=\"请输入\">\r\n                    </bk-input>\r\n                </bk-form-item>\r\n            </bk-form>\r\n        </div>\r\n        <div slot=\"footer\">\r\n            <bk-button\r\n                ext-cls=\"mr5\"\r\n                theme=\"primary\"\r\n                title=\"保存\"\r\n                :loading=\"isConfirm\"\r\n                @click.stop.prevent=\"submitData\"\r\n                style=\"margin-left: 24px;\">\r\n                确定\r\n            </bk-button>\r\n            <bk-button\r\n                ext-cls=\"mr5\"\r\n                theme=\"default\"\r\n                title=\"取消\"\r\n                @click=\"visible = false\">\r\n                取消\r\n            </bk-button>\r\n        </div>\r\n    </bk-sideslider>\r\n</template>\r\n\r\n<script>\r\n    import dataSelect from '@/components/formWidget/dataSelect'\r\n    import ipNetSelect from '@/components/formWidget/ipNetSelect'\r\n    export default {\r\n        name: 'add-distribute',\r\n        components: {\r\n            dataSelect,\r\n            ipNetSelect\r\n        },\r\n        data() {\r\n            return {\r\n                visible: false,\r\n                rules: {\r\n                    apply_ip_pool: [\r\n                        {\r\n                            required: true,\r\n                            message: '必填项',\r\n                            trigger: 'blur'\r\n                        }\r\n                    ],\r\n                    ip_net: [\r\n                        {\r\n                            required: true,\r\n                            message: '必填项',\r\n                            trigger: 'blur'\r\n                        }\r\n                    ],\r\n                    ips: [\r\n                        {\r\n                            required: true,\r\n                            message: '必填项',\r\n                            trigger: 'blur'\r\n                        }\r\n                    ],\r\n                    apply_reason: [\r\n                        {\r\n                            required: true,\r\n                            message: '必填项',\r\n                            trigger: 'blur'\r\n                        }\r\n                    ]\r\n                },\r\n                formData: {\r\n                    apply_ip_pool: '',\r\n                    ip_net: '',\r\n                    ips: '',\r\n                    reason: ''\r\n                },\r\n                isConfirm: false,\r\n                ipNetDefaultOption: {},\r\n                ipPoolDefaultOption: {}\r\n            }\r\n        },\r\n        methods: {\r\n            showDialog(item) {\r\n                if (item) {\r\n                    this.ipNetDefaultOption = {\r\n                        id: item.ip_net,\r\n                        ip_net: item.ip_net_name\r\n                    }\r\n                    this.ipPoolDefaultOption = {\r\n                        id: item.ip_pool_id,\r\n                        name: item.ip_pool\r\n                    }\r\n                    const ips = []\r\n                    item.ipOption.forEach(item => {\r\n                        ips.push(item.ip)\r\n                    })\r\n                    this.formData = {\r\n                        apply_ip_pool: item.ip_pool_id,\r\n                        ip_net: item.ip_net,\r\n                        ips: ips.join(','),\r\n                        reason: ''\r\n                    }\r\n                } else {\r\n                    this.formData = {\r\n                        apply_ip_pool: '',\r\n                        ip_net: '',\r\n                        ips: '',\r\n                        reason: ''\r\n                    }\r\n                }\r\n                this.netSelectChange()\r\n                this.$nextTick(() => {\r\n                    this.settingPosition()\r\n                })\r\n                this.visible = true\r\n            },\r\n            netSelectChange(record) {\r\n                const _list = ['bk_cloud_id', 'gateway', 'dns', 'vlan_id']\r\n                if (record) {\r\n                    _list.forEach(list => {\r\n                        this.formData[list] = record[list]\r\n                    })\r\n                    return false\r\n                }\r\n                _list.forEach(list => {\r\n                    this.formData[list] = ''\r\n                })\r\n            },\r\n            netChange() {\r\n                this.$set(this.formData, 'ips', '')\r\n            },\r\n            submitData() {\r\n                this.isConfirm = true\r\n                this.$refs.reserveForm.validate().then(validator => {\r\n                    const formData = JSON.parse(JSON.stringify(this.formData))\r\n                    // 检测IP是否在子网下\r\n                    this.$api.ip_check({\r\n                        ip_net: formData['ip_net'],\r\n                        ips: formData['ips'].split(',')\r\n                    }).then(res => {\r\n                        if (res.result) {\r\n                            this._successMessage('保留成功')\r\n                            // 新增保留\r\n                            this.$api.ip_reserve({\r\n                                ip_net: formData['ip_net'],\r\n                                remark: formData['reason'],\r\n                                ips: formData['ips'].split(','),\r\n                                is_reserve: true\r\n                            }).then(resContext => {\r\n                                if (resContext.result) {\r\n                                    this.$emit('ok-confirm', true)\r\n                                    this.visible = false\r\n                                }\r\n                            })\r\n                        } else {\r\n                            this._errorMessage(res.message)\r\n                        }\r\n                    }).finally(() => {\r\n                        this.isConfirm = false\r\n                    })\r\n                }, validator => {\r\n                    this.isConfirm = false\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.add-distribute-wrapper {\r\n    padding: 15px 25px 15px 0;\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./import_ips.vue?vue&type=template&id=073b88fa&scoped=true&\"\nimport script from \"./import_ips.vue?vue&type=script&lang=js&\"\nexport * from \"./import_ips.vue?vue&type=script&lang=js&\"\nimport style0 from \"./import_ips.vue?vue&type=style&index=0&id=073b88fa&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"073b88fa\",\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=d9e70842&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=d9e70842&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d9e70842\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<!--\r\nThis program is named IP Management Center and it is a tool to help network administrators manage enterprise IP resource pool reasonably and conveniently.\r\nCopyright (C) <2021>  <Guangzhou Canway Technology Co.,Ltd.>\r\nContact details: jackliu@canway.net or 11th Floor, Building A，Fengxing Plaza No. 67 Tianhe East Road Tianhe District, Guangzhou, China 510630. jackliu, 15927493530\r\nThis file is part of IP Management Center.\r\nIP Management Center is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\r\nIP Management Center is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\r\nYou should have received a copy of the GNU General Public License along with Canway software. If not, see <https://www.gnu.org/licenses/>.\r\n-->\r\n<template>\r\n    <div class=\"table—wrapper\">\r\n        <div class=\"header-table-operation\">\r\n            <search-input\r\n                v-model=\"searchValue\"\r\n                :placeholder=\"'请输入关键字搜索'\"\r\n                @search=\"onSearch\">\r\n            </search-input>\r\n            <!-- 更多查询 -->\r\n            <advanced-search\r\n                :form-widgets=\"formWidgets\"\r\n                @submit=\"handleAdvancedSearch\">\r\n            </advanced-search>\r\n            <div class=\"operation-container\">\r\n                <div>\r\n                    <bk-button :title=\"'导出'\" @click=\"toExport\" v-if=\"datas.length > 0\">\r\n                        导出\r\n                    </bk-button>\r\n                    <bk-button :title=\"'导出'\" @click=\"batchCheck\" :disabled=\"batchCheckDisable\">\r\n                        批量检测\r\n                    </bk-button>\r\n                    <bk-button :title=\"'导出'\" @click=\"batchModify\">\r\n                        批量修改\r\n                    </bk-button>\r\n                    <bk-dropdown-menu trigger=\"click\" @show=\"dropdownShow\" @hide=\"dropdownHide\" ref=\"dropdown\">\r\n                        <div class=\"dropdown-trigger-btn\" style=\"padding-left: 19px;\" slot=\"dropdown-trigger\">\r\n                            <span>更多操作</span>\r\n                            <i :class=\"['bk-icon icon-angle-down',{ 'icon-flip': isDropdownShow }]\"></i>\r\n                        </div>\r\n                        <ul class=\"bk-dropdown-list\" slot=\"dropdown-content\">\r\n                            <li><a href=\"javascript:;\" @click=\"handleRecycle\">批量回收</a></li>\r\n                            <li><a href=\"javascript:;\" @click=\"handleVisible('importDialog')\">导入分配</a></li>\r\n                            <li><a href=\"javascript:;\" @click=\"handleVisible('distributeDialog')\">新增分配</a></li>\r\n                            <li><a href=\"javascript:;\" @click=\"handleVisible('reserveDialog')\">新增保留</a></li>\r\n                        </ul>\r\n                    </bk-dropdown-menu>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div v-bkloading=\"{ isLoading: loading, zIndex: 10 }\">\r\n            <common-table\r\n                :data=\"datas\"\r\n                :columns=\"columns\"\r\n                :select-column=\"{ visible: true, fixed: true }\"\r\n                :order-column=\"{ visible: false, fixed: false }\"\r\n                @selection-change=\"selectChange\"\r\n                :settings-fields=\"settingsFields\"\r\n                :pagination=\"pagination\"\r\n                @handleSettingChange=\"handleSettingChange\"\r\n                @sort-change=\"handleSortChange\"\r\n                @page-change=\"handlePageChange\"\r\n                @page-limit-change=\"limitChange\"\r\n            >\r\n                <template slot=\"status\" slot-scope=\"record\">\r\n                    <span\r\n                        class=\"radius-tip\"\r\n                        :style=\"{ background: statusColorObj[record.scope.allocate_status] }\">\r\n                    </span>\r\n                    {{ statusObj[record.scope.allocate_status] }}\r\n                </template>\r\n                <template slot=\"online_status\" slot-scope=\"record\">\r\n                    <span\r\n                        :style=\"{ color: record.scope.online_status ? '#14A568' : '#FF5656' }\">\r\n                        {{record.scope.online_status ? '在线' : '离线'}}\r\n                    </span>\r\n                </template>\r\n                <template slot=\"reserve_status\" slot-scope=\"record\">\r\n                    <span\r\n                        :style=\"{ color: record.scope.reserve_status ? '#14A568' : '#FF5656' }\">\r\n                        {{record.scope.reserve_status ? '保留' : '未保留'}}\r\n                    </span>\r\n                </template>\r\n                <template slot=\"operation\" slot-scope=\"record\">\r\n                    <bk-button class=\"mr10\" theme=\"primary\" text @click=\"ipCheck(record.scope)\"\r\n                        :disabled=\"record.scope.checking\">立即检测\r\n                    </bk-button>\r\n                </template>\r\n            </common-table>\r\n        </div>\r\n        <!--  批量修改抽屉栏   -->\r\n        <batch-modify :is-edit=\"true\"\r\n            :form-data=\"formData\"\r\n            v-model=\"batchModifyVisible\"\r\n            :form-widgets=\"batchWidgets\"\r\n            title=\"IP地址批量修改\"\r\n            :submit-loading=\"isConfirm\"\r\n            @submit=\"toComfirmModify\">\r\n        </batch-modify>\r\n        <!--  批量收回对话框   -->\r\n        <batch-recycle ref=\"batchRecycle\"\r\n            :selected=\"selectedRows\"\r\n            @ok-recycle=\"fetchData\">\r\n        </batch-recycle>\r\n        <!--  导入分配对话框   -->\r\n        <import-dialog ref=\"importDialog\"\r\n            @ok-confirm=\"fetchData\"></import-dialog>\r\n        <!--  新增分配抽屉栏  -->\r\n        <add-distribute ref=\"distributeDialog\"\r\n            @ok-confirm=\"fetchData\"></add-distribute>\r\n        <!--  新增保留抽屉栏  -->\r\n        <add-reserve ref=\"reserveDialog\"\r\n            @ok-confirm=\"fetchData\"></add-reserve>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import advancedSearch from '@/components/popover/advancedSearch'\r\n    import searchInput from '@/components/searchInput'\r\n    import commonTable from '@/components/table/comTable'\r\n    import batchModify from '@/components/modify'\r\n    import batchRecycle from './components/batchRecycle'\r\n    import addDistribute from './components/addDistribute'\r\n    import importDialog from './components/import_ips'\r\n    import addReserve from './components/addReserve'\r\n\r\n    export default {\r\n        name: 'home',\r\n        components: {\r\n            advancedSearch,\r\n            commonTable,\r\n            searchInput,\r\n            batchModify,\r\n            batchRecycle,\r\n            addDistribute,\r\n            importDialog,\r\n            addReserve\r\n        },\r\n        data() {\r\n            return {\r\n                loading: false,\r\n                searchValue: '',\r\n                datas: [],\r\n                columns: [{\r\n                    label: '状态检测',\r\n                    key: 'operation',\r\n                    width: '100px',\r\n                    scopedSlots: {customRender: 'operation'}\r\n                }],\r\n                checking: false,\r\n                // 分配状态的颜色字典\r\n                statusColorObj: {\r\n                    '2': '#91B6F5',\r\n                    '1': '#7ED4B2',\r\n                    '4': '#9DB1CE',\r\n                    '3': '#E9B76E'\r\n                },\r\n                statusObj: {\r\n                    '1': '未分配',\r\n                    '2': '已分配',\r\n                    '3': '待回收',\r\n                    '4': '已回收'\r\n                },\r\n                selectedRows: [],\r\n                pagination: {\r\n                    current: 1,\r\n                    count: 3,\r\n                    limit: 10\r\n                },\r\n                sort: {\r\n                    prop: 'create_at',\r\n                    order: 'descending'\r\n                },\r\n                // 动态表头的数据集合\r\n                settingsFields: [\r\n                    {\r\n                        label: 'IP地址',\r\n                        key: 'ip',\r\n                        disabled: true,\r\n                        attr: {\r\n                            minWidth: '125px'\r\n                        },\r\n                        conditionAttr: {\r\n                            widget: 'input',\r\n                            placeholder: '请输入IP地址',\r\n                            attr: {\r\n                                clearable: true\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '地址池名称',\r\n                        key: 'ip_pool',\r\n                        disabled: true,\r\n                        attr: {\r\n                            minWidth: '120px'\r\n                        },\r\n                        sortable: true,\r\n                        conditionAttr: {\r\n                            widget: 'data-select',\r\n                            label: '地址池',\r\n                            custom: true,\r\n                            name: 'ip_pool',\r\n                            placeholder: '请输入地址池',\r\n                            attr: {\r\n                                clearable: true,\r\n                                remote: true,\r\n                                filterable: true,\r\n                                searchable: true,\r\n                                popperAppendToBody: false,\r\n                                url: 'searchPool',\r\n                                detailUrl: 'poolDetail',\r\n                                initFlag: true\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: 'IP子网',\r\n                        key: 'ip_net_name',\r\n                        disabled: true,\r\n                        attr: {\r\n                            minWidth: '125px'\r\n                        },\r\n                        conditionAttr: {\r\n                            widget: 'ip-net-select',\r\n                            placeholder: '请选择子网',\r\n                            label: '子网',\r\n                            custom: true,\r\n                            name: 'ip_net',\r\n                            attr: {\r\n                                nameKey: 'ip_pool',\r\n                                remote: true,\r\n                                filterable: true,\r\n                                searchable: true,\r\n                                popperAppendToBody: false,\r\n                                clearable: true,\r\n                                url: 'search_ip_net',\r\n                                detailUrl: 'poolNetDetail',\r\n                                initFlag: true\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '云区域',\r\n                        key: 'bk_cloud_id',\r\n                        align: 'right',\r\n                        conditionAttr: {\r\n                            widget: 'input',\r\n                            placeholder: '请输入云区域',\r\n                            attr: {\r\n                                clearable: true\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '网关',\r\n                        key: 'gateway',\r\n                        attr: {\r\n                            minWidth: '125px'\r\n                        },\r\n                        conditionAttr: {\r\n                            widget: 'input',\r\n                            placeholder: '请输入网关',\r\n                            attr: {\r\n                                clearable: true\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: 'DNS服务器',\r\n                        key: 'dns',\r\n                        attr: {\r\n                            minWidth: '125px'\r\n                        },\r\n                        conditionAttr: {\r\n                            widget: 'input',\r\n                            label: 'DNS',\r\n                            placeholder: '请输入DNS',\r\n                            attr: {\r\n                                clearable: true\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '分配状态',\r\n                        key: 'allocate_status',\r\n                        scopedSlots: {customRender: 'status'},\r\n                        conditionAttr: {\r\n                            widget: 'data-select',\r\n                            custom: true,\r\n                            placeholder: '请选择相关数据',\r\n                            size: 'small',\r\n                            defaultValue: [],\r\n                            attr: {\r\n                                searchable: false,\r\n                                multiple: false,\r\n                                popperAppendToBody: false,\r\n                                clearable: true,\r\n                                options: [\r\n                                    {\r\n                                        id: '1',\r\n                                        name: '未分配'\r\n                                    },\r\n                                    {\r\n                                        id: '2',\r\n                                        name: '已分配'\r\n                                    },\r\n                                    {\r\n                                        id: '3',\r\n                                        name: '待回收'\r\n                                    },\r\n                                    {\r\n                                        id: '4',\r\n                                        name: '已回收'\r\n                                    }\r\n                                ]\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '在线状态',\r\n                        key: 'online_status',\r\n                        scopedSlots: {customRender: 'online_status'},\r\n                        conditionAttr: {\r\n                            widget: 'data-select',\r\n                            custom: true,\r\n                            placeholder: '请选择相关数据',\r\n                            size: 'small',\r\n                            defaultValue: [],\r\n                            attr: {\r\n                                searchable: false,\r\n                                multiple: false,\r\n                                popperAppendToBody: false,\r\n                                clearable: true,\r\n                                options: [\r\n                                    {\r\n                                        id: 1,\r\n                                        name: '在线'\r\n                                    },\r\n                                    {\r\n                                        id: 2,\r\n                                        name: '离线'\r\n                                    }\r\n                                ]\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '保留状态',\r\n                        key: 'reserve_status',\r\n                        scopedSlots: {customRender: 'reserve_status'},\r\n                        conditionAttr: {\r\n                            widget: 'data-select',\r\n                            custom: true,\r\n                            placeholder: '请选择相关数据',\r\n                            size: 'small',\r\n                            defaultValue: [],\r\n                            attr: {\r\n                                searchable: false,\r\n                                multiple: false,\r\n                                popperAppendToBody: false,\r\n                                clearable: true,\r\n                                options: [\r\n                                    {\r\n                                        id: 1,\r\n                                        name: '保留'\r\n                                    },\r\n                                    {\r\n                                        id: 2,\r\n                                        name: '未保留'\r\n                                    }\r\n                                ]\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '业务系统',\r\n                        key: 'business_system',\r\n                        attr: {\r\n                            minWidth: '125px'\r\n                        },\r\n                        conditionAttr: {\r\n                            widget: 'input',\r\n                            placeholder: '请输入业务系统',\r\n                            attr: {\r\n                                clearable: true\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '运维人员',\r\n                        key: 'member',\r\n                        attr: {\r\n                            minWidth: '125px'\r\n                        },\r\n                        conditionAttr: {\r\n                            widget: 'input',\r\n                            placeholder: '请输入运维人员',\r\n                            attr: {\r\n                                clearable: true\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '分配时间',\r\n                        key: 'allocate_at',\r\n                        align: 'left',\r\n                        attr: {\r\n                            minWidth: '130px'\r\n                        },\r\n                        conditionAttr: {\r\n                            widget: 'date-picker',\r\n                            placeholder: '请选择...',\r\n                            attr: {\r\n                                style: {width: '100%'},\r\n                                transfer: true,\r\n                                clearable: true,\r\n                                type: 'daterange',\r\n                                shortcutClose: true,\r\n                                useShortcutText: false,\r\n                                shortcuts: [\r\n                                    {\r\n                                        text: '今天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            return [start, end]\r\n                                        }\r\n                                    },\r\n                                    {\r\n                                        text: '近7天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\r\n                                            return [start, end]\r\n                                        }\r\n                                    },\r\n                                    {\r\n                                        text: '近15天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 15)\r\n                                            return [start, end]\r\n                                        }\r\n                                    },\r\n                                    {\r\n                                        text: '近30天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\r\n                                            return [start, end]\r\n                                        }\r\n                                    }\r\n                                ]\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '离线时间',\r\n                        key: 'offline_at',\r\n                        align: 'left',\r\n                        attr: {\r\n                            minWidth: '130px'\r\n                        },\r\n                        conditionAttr: {\r\n                            widget: 'date-picker',\r\n                            placeholder: '请选择...',\r\n                            attr: {\r\n                                style: {width: '100%'},\r\n                                transfer: true,\r\n                                clearable: true,\r\n                                type: 'daterange',\r\n                                shortcutClose: true,\r\n                                useShortcutText: false,\r\n                                shortcuts: [\r\n                                    {\r\n                                        text: '今天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            return [start, end]\r\n                                        }\r\n                                    },\r\n                                    {\r\n                                        text: '近7天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\r\n                                            return [start, end]\r\n                                        }\r\n                                    },\r\n                                    {\r\n                                        text: '近15天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 15)\r\n                                            return [start, end]\r\n                                        }\r\n                                    },\r\n                                    {\r\n                                        text: '近30天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\r\n                                            return [start, end]\r\n                                        }\r\n                                    }\r\n                                ]\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '描述',\r\n                        key: 'description',\r\n                        align: 'left',\r\n                        sortable: true,\r\n                        attr: {\r\n                            minWidth: '130px',\r\n                            showOverflowTooltip: true\r\n                        },\r\n                        conditionAttr: {\r\n                            widget: 'input',\r\n                            placeholder: '请输入描述',\r\n                            attr: {\r\n                                clearable: true\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '过期时间',\r\n                        key: 'expired_at',\r\n                        align: 'left',\r\n                        attr: {\r\n                            minWidth: '130px'\r\n                        },\r\n                        conditionAttr: {\r\n                            widget: 'date-picker',\r\n                            placeholder: '请选择...',\r\n                            attr: {\r\n                                style: {width: '100%'},\r\n                                transfer: true,\r\n                                clearable: true,\r\n                                type: 'daterange',\r\n                                shortcutClose: true,\r\n                                useShortcutText: false,\r\n                                shortcuts: [\r\n                                    {\r\n                                        text: '今天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            return [start, end]\r\n                                        }\r\n                                    },\r\n                                    {\r\n                                        text: '近7天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\r\n                                            return [start, end]\r\n                                        }\r\n                                    },\r\n                                    {\r\n                                        text: '近15天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 15)\r\n                                            return [start, end]\r\n                                        }\r\n                                    },\r\n                                    {\r\n                                        text: '近30天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\r\n                                            return [start, end]\r\n                                        }\r\n                                    }\r\n                                ]\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '扫描时间',\r\n                        key: 'scan_at',\r\n                        align: 'left',\r\n                        attr: {\r\n                            minWidth: '130px'\r\n                        },\r\n                        conditionAttr: {\r\n                            widget: 'date-picker',\r\n                            placeholder: '请选择...',\r\n                            attr: {\r\n                                style: {width: '100%'},\r\n                                transfer: true,\r\n                                clearable: true,\r\n                                type: 'daterange',\r\n                                shortcutClose: true,\r\n                                useShortcutText: false,\r\n                                shortcuts: [\r\n                                    {\r\n                                        text: '今天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            return [start, end]\r\n                                        }\r\n                                    },\r\n                                    {\r\n                                        text: '近7天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\r\n                                            return [start, end]\r\n                                        }\r\n                                    },\r\n                                    {\r\n                                        text: '近15天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 15)\r\n                                            return [start, end]\r\n                                        }\r\n                                    },\r\n                                    {\r\n                                        text: '近30天',\r\n                                        value() {\r\n                                            const end = new Date()\r\n                                            const start = new Date()\r\n                                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\r\n                                            return [start, end]\r\n                                        }\r\n                                    }\r\n                                ]\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '备注',\r\n                        key: 'remark',\r\n                        attr: {\r\n                            minWidth: '125px'\r\n                        },\r\n                        conditionAttr: {\r\n                            widget: 'input',\r\n                            placeholder: '请输入备注',\r\n                            attr: {\r\n                                clearable: true\r\n                            }\r\n                        }\r\n                    }\r\n                ],\r\n                // 高级搜索面板的条件配置数据\r\n                formWidgets: [],\r\n                // 批量修改的数据\r\n                formData: {\r\n                    gateway: '',\r\n                    dns: '',\r\n                    offline_at: '',\r\n                    reserve_status: 1,\r\n                    description: ''\r\n                },\r\n                isConfirm: false,\r\n                // 批量修改的表单配置数据\r\n                batchWidgets: [\r\n                    {\r\n                        widget: 'input',\r\n                        name: 'gateway',\r\n                        label: '网关',\r\n                        required: false,\r\n                        placeholder: '请输入网关',\r\n                        attr: {\r\n                            clearable: true\r\n                        },\r\n                        disabled: true\r\n                    },\r\n                    {\r\n                        widget: 'input',\r\n                        name: 'dns',\r\n                        label: 'DNS服务器',\r\n                        required: false,\r\n                        placeholder: '请输入DNS服务器',\r\n                        attr: {\r\n                            clearable: true\r\n                        },\r\n                        disabled: true\r\n                    },\r\n                    {\r\n                        widget: 'date-picker',\r\n                        name: 'offline_at',\r\n                        label: '过期时间',\r\n                        placeholder: '请选择...',\r\n                        attr: {\r\n                            style: {width: '100%'},\r\n                            transfer: true,\r\n                            clearable: true\r\n                        },\r\n                        disabled: true\r\n                    },\r\n                    {\r\n                        widget: 'data-select',\r\n                        name: 'reserve_status',\r\n                        label: '保留状态',\r\n                        custom: true,\r\n                        placeholder: '请选择相关数据',\r\n                        size: 'small',\r\n                        attr: {\r\n                            searchable: false,\r\n                            multiple: false,\r\n                            popperAppendToBody: false,\r\n                            clearable: true,\r\n                            options: [{\r\n                                          id: 1,\r\n                                          name: '保留'\r\n                                      },\r\n                                      {\r\n                                          id: 2,\r\n                                          name: '未保留'\r\n                                      }]\r\n                        },\r\n                        disabled: true\r\n                    },\r\n                    {\r\n                        widget: 'input',\r\n                        name: 'business_system',\r\n                        label: '业务系统',\r\n                        required: false,\r\n                        placeholder: '请输入业务系统',\r\n                        attr: {\r\n                            clearable: true\r\n                        },\r\n                        disabled: true\r\n                    },\r\n                    {\r\n                        widget: 'input',\r\n                        name: 'description',\r\n                        label: '描述',\r\n                        required: false,\r\n                        placeholder: '请输入描述',\r\n                        attr: {\r\n                            clearable: true,\r\n                            type: 'textarea'\r\n                        },\r\n                        disabled: true\r\n                    }\r\n                ],\r\n                // 批量修改抽屉展示状态\r\n                batchModifyVisible: false,\r\n                customAttr: [],\r\n                // 搜索条件的缓存数据\r\n                searchParams: {},\r\n                isDropdownShow: false,\r\n                batchCheckDisable: false,\r\n                customAttrNames: []\r\n            }\r\n        },\r\n        watch: {\r\n            searchValue(newV) {\r\n                if (!newV) {\r\n                    this.onSearch()\r\n                }\r\n            }\r\n        },\r\n        created() {\r\n            const stateColumns = this.$store.state.product.tableColumns.ip\r\n            if (stateColumns.length > 0) {\r\n                this.columns = [...stateColumns]\r\n            } else {\r\n                this.columns = this.settingsFields.slice(0, 8).concat(this.columns)\r\n            }\r\n        },\r\n        mounted() {\r\n            this.fetchData()\r\n            this.getCustomAttr()\r\n        },\r\n        methods: {\r\n            async fetchData(params = {}) {\r\n                this.loading = true\r\n                // page:页数, page_size:每页数\r\n                try {\r\n                    const res = await this.$api.search_ip({\r\n                        ...this.searchParams,\r\n                        ...params,\r\n                        page: this.pagination.current,\r\n                        page_size: this.pagination.limit,\r\n                        sort: this.sort.order === 'ascending' ? this.getProp() : '-' + this.getProp()\r\n                    })\r\n                    if (res.result) {\r\n                        this.pagination.count = res.data.count\r\n                        this.datas = res.data.results || []\r\n                        this.datas.forEach(item => {\r\n                            item.expired_at = item.expired_at && item.expired_at.split(' ')[0]\r\n                            item.custom_attr.forEach(attr => {\r\n                                item[attr.name] = attr.value\r\n                            })\r\n                        })\r\n                    } else {\r\n                        this._errorMessage(res.message)\r\n                    }\r\n                } finally {\r\n                    this.loading = false\r\n                }\r\n            },\r\n            getProp() {\r\n                return this.sort.prop === 'ip_pool' ? 'ip_net__ip_pool__name' : this.sort.prop\r\n            },\r\n            async getCustomAttr() {\r\n                const res = await this.$api.searchCustom({\r\n                    type: 'ips'\r\n                })\r\n                if (res.result) {\r\n                    this.customAttr = res.data.results\r\n                    res.data.results.forEach(item => {\r\n                        this.settingsFields.push({\r\n                            label: item.display_name,\r\n                            key: item.name,\r\n                            align: 'left',\r\n                            attr: {\r\n                                minWidth: '100px'\r\n                            },\r\n                            conditionAttr: {\r\n                                widget: 'input',\r\n                                placeholder: `请输入${item.display_name}`,\r\n                                attr: {\r\n                                    clearable: true\r\n                                }\r\n                            }\r\n                        })\r\n                        this.batchWidgets.push({\r\n                            widget: 'input',\r\n                            name: item.name,\r\n                            label: item.display_name,\r\n                            required: false,\r\n                            placeholder: `请输入${item.display_name}`,\r\n                            attr: {\r\n                                clearable: true\r\n                            },\r\n                            disabled: true\r\n                        })\r\n                        this.customAttrNames.push(item.name)\r\n                    })\r\n                    const adnvancedWidget = this.columns.map(item => {\r\n                        return {\r\n                            name: item.key,\r\n                            label: item.label,\r\n                            ...item.conditionAttr\r\n                        }\r\n                    })\r\n                    const _arr = ['operation', ...this.customAttrNames]\r\n                    this.formWidgets = adnvancedWidget.filter(item => !_arr.includes(item.name))\r\n                } else {\r\n                    this.customAttr = []\r\n                }\r\n            },\r\n            selectChange(selection) {\r\n                this.selectedRows = selection\r\n            },\r\n            handlePageChange(page) {\r\n                this.pagination.current = page\r\n                this.fetchData()\r\n            },\r\n            limitChange(limit) {\r\n                this.pagination.current = 1\r\n                this.pagination.limit = limit\r\n                this.fetchData()\r\n            },\r\n            onSearch(value) {\r\n                this.searchParams = {search: value}\r\n                this.pagination.current = 1\r\n                this.fetchData({\r\n                    search: value\r\n                })\r\n            },\r\n            handleAdvancedSearch(params) {\r\n                Object.keys(params).forEach(item => {\r\n                    const _times = ['allocate_at', 'offline_at', 'expired_at', 'scan_at']\r\n                    if (_times.includes(item)) {\r\n                        if (params[item][0] && params[item][1]) {\r\n                            params[item + '__gte'] = this.$moment(params[item][0]).format('YYYY-MM-DD HH:mm:ss')\r\n                            params[item + '__lte'] = this.$moment(params[item][1]).format('YYYY-MM-DD HH:mm:ss')\r\n                            delete params[item]\r\n                        } else {\r\n                            delete params[item]\r\n                        }\r\n                    }\r\n                    if (!params[item] && params[item] !== 0) {\r\n                        delete params[item]\r\n                    }\r\n                    if (item === 'online_status') {\r\n                        params[item] = params[item] === 1\r\n                    }\r\n                    if (item === 'reserve_status') {\r\n                        params[item] = params[item] === 1\r\n                    }\r\n                })\r\n                this.pagination.current = 1\r\n                this.searchParams = {...params}\r\n                this.fetchData({...params})\r\n            },\r\n            handleSettingChange(datas, columns) {\r\n                const _arr = ['operation', ...this.customAttrNames]\r\n                this.formWidgets = datas.filter(item => !_arr.includes(item.name))\r\n                // vuex缓存表格头设置的信息\r\n                this.$store.commit('setTableColumns', {column: columns, key: 'ip'})\r\n            },\r\n            handleSortChange({column, prop, order}) {\r\n                this.sort.prop = prop\r\n                this.sort.order = order\r\n                this.fetchData()\r\n            },\r\n            // 批量修改\r\n            batchModify() {\r\n                if (this.selectedRows.length === 0) {\r\n                    this._warnMessage('请先选择要修改的IP地址')\r\n                    return false\r\n                }\r\n                this.batchModifyVisible = true\r\n                this.formData = {\r\n                    gateway: '',\r\n                    dns: '',\r\n                    offline_at: '',\r\n                    reserve_status: 1,\r\n                    description: ''\r\n                }\r\n            },\r\n            // 确认批量修改的触发事件\r\n            async toComfirmModify(data) {\r\n                this.isConfirm = true\r\n                if (data['gateway'] && !this.isValidateGateway(data['gateway'])) {\r\n                    this._warnMessage('请输入正确的网关')\r\n                    setTimeout(() => {\r\n                        this.isConfirm = false\r\n                    }, 500)\r\n                    return false\r\n                }\r\n                if (data['dns'] && !this.isValidateGateway(data['dns'])) {\r\n                    this._warnMessage('请输入正确的DNS服务器')\r\n                    setTimeout(() => {\r\n                        this.isConfirm = false\r\n                    }, 500)\r\n                    return false\r\n                }\r\n                if (data['offline_at']) {\r\n                    data['offline_at'] = this.$moment(data['offline_at']).format('YYYY-MM-DD hh:mm:ss')\r\n                }\r\n                if (data['reserve_status']) {\r\n                    data['reserve_status'] = data['reserve_status'] === 1\r\n                }\r\n                const _selectedIds = []\r\n                this.selectedRows.forEach(row => {\r\n                    _selectedIds.push(row.id)\r\n                })\r\n                try {\r\n                    const res = await this.$api.ip_batch_update({\r\n                        selected_ids: _selectedIds,\r\n                        ...data\r\n                    })\r\n                    if (res.result) {\r\n                        this._successMessage('更新成功')\r\n                        this.batchModifyVisible = false\r\n                        this.fetchData()\r\n                    } else {\r\n                        this._errorMessage(res.message)\r\n                        this.batchModifyVisible = false\r\n                    }\r\n                } finally {\r\n                    this.isConfirm = false\r\n                }\r\n            },\r\n            // 网关和dns服务器的校验\r\n            isValidateGateway(str) {\r\n                const reg = /^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/\r\n                return reg.test(str)\r\n            },\r\n            // 批量回收的触发事件\r\n            handleRecycle() {\r\n                if (this.selectedRows.length === 0) {\r\n                    this._warnMessage('请先选择要回收的IP地址')\r\n                    return false\r\n                } else {\r\n                    for (let i = 0; i < this.selectedRows.length; i++) {\r\n                        if (this.selectedRows[i].allocate_status === '1') {\r\n                            this._warnMessage('存在未分配的IP地址')\r\n                            return false\r\n                        }\r\n                    }\r\n                }\r\n                this.$refs.batchRecycle.showDialog()\r\n            },\r\n            // 点击显示弹出层的统一触发事件\r\n            handleVisible(name) {\r\n                if (this.selectedRows.length > 0) {\r\n                    const item = this.selectedRows[0]\r\n                    const ipOption = []\r\n                    for (let i = 0; i < this.selectedRows.length; i++) {\r\n                        if (this.selectedRows[i].reserve_status && name === 'reserveDialog') {\r\n                            this._warnMessage('存在已保留的IP地址')\r\n                            return\r\n                        }\r\n                        if (this.selectedRows[i].allocate_status !== '1' && name === 'distributeDialog') {\r\n                            this._warnMessage('只能操作未分配的IP地址')\r\n                            return\r\n                        }\r\n                        if (this.selectedRows[i].ip_pool !== item.ip_pool || this.selectedRows[i].ip_net_name !== item.ip_net_name) {\r\n                            this._warnMessage('IP必须同一地址池和子网')\r\n                            return\r\n                        }\r\n                        ipOption.push({\r\n                            id: this.selectedRows[i].id,\r\n                            ip: this.selectedRows[i].ip\r\n                        })\r\n                    }\r\n                    item.ipOption = ipOption\r\n                    this.$refs[name].showDialog(item)\r\n                } else {\r\n                    this.$refs[name].showDialog()\r\n                }\r\n            },\r\n            // 导出excel\r\n            toExport() {\r\n                let _params = ''\r\n                Object.keys(this.searchParams).forEach(item => {\r\n                    _params = _params + `&${item}=${this.searchParams[item]}`\r\n                })\r\n                const url = window.siteUrl + 'ip/export_excel/?page=1&page_size=-1' + _params\r\n                window.open(url)\r\n            },\r\n            // 行立即检测按钮\r\n            ipCheck(data) {\r\n                this.$set(data, 'checking', true)\r\n                this.$api.status_check({ips: data.ip}).then(res => {\r\n                    if (res.result) {\r\n                        this._successMessage('检测成功')\r\n                        this.fetchData()\r\n                    } else {\r\n                        this._warnMessage('检测失败，请稍后重试')\r\n                    }\r\n                })\r\n            },\r\n            batchCheck() {\r\n                const ips = []\r\n                this.batchCheckDisable = true\r\n                if (this.selectedRows.length > 0) {\r\n                    this.selectedRows.forEach(item => {\r\n                        ips.push(item.ip)\r\n                    })\r\n                    this.$api.status_check({ips: ips.join(',')}).then(res => {\r\n                        if (res.result) {\r\n                            this._successMessage('检测成功')\r\n                            this.batchCheckDisable = false\r\n                            this.fetchData()\r\n                        } else {\r\n                            this._warnMessage('检测失败，请稍后重试')\r\n                        }\r\n                    }, () => {\r\n                        this.batchCheckDisable = false\r\n                    })\r\n                } else {\r\n                    this.batchCheckDisable = false\r\n                    this._warnMessage('请先选择要检测的IP地址')\r\n                }\r\n            },\r\n            // 下拉菜单操作\r\n            dropdownShow() {\r\n                this.isDropdownShow = true\r\n            },\r\n            dropdownHide() {\r\n                this.isDropdownShow = false\r\n            },\r\n            triggerHandler() {\r\n                this.$refs.dropdown.hide()\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.radius-tip {\r\n    display: inline-block;\r\n    width: 10px;\r\n    height: 10px;\r\n    border-radius: 50%;\r\n}\r\n\r\n.dropdown-trigger-btn {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border: 1px solid #c4c6cc;\r\n    height: 32px;\r\n    line-height: 32px;\r\n    min-width: 68px;\r\n    border-radius: 2px;\r\n    padding: 0 15px;\r\n    color: #63656E;\r\n    font-size: 14px;\r\n    background-color: #FFF;\r\n}\r\n\r\n.dropdown-trigger-btn.bk-icon {\r\n    font-size: 18px;\r\n}\r\n\r\n.dropdown-trigger-btn .bk-icon {\r\n    font-size: 22px;\r\n}\r\n\r\n.dropdown-trigger-btn:hover {\r\n    cursor: pointer;\r\n    border-color: #979ba5;\r\n}\r\n\r\n/deep/ .bk-dropdown-content {\r\n    overflow: visible !important;\r\n\r\n    .bk-dropdown-list {\r\n        margin-top: -5px;\r\n    }\r\n}\r\n\r\n/deep/ .bk-dropdown-menu .bk-dropdown-list > li {\r\n    background-color: #fff;\r\n    border: 1px solid #dcdee5;\r\n    border-top: none;\r\n    border-bottom: none;\r\n}\r\n\r\n/deep/ .bk-dropdown-menu .bk-dropdown-list > li:first-child {\r\n    border-bottom: none;\r\n    border-top: none;\r\n    border-top-right-radius: 2px;\r\n    border-top-left-radius: 2px;\r\n}\r\n\r\n/deep/ .bk-dropdown-menu .bk-dropdown-list > li:last-child {\r\n    border-bottom: 1px solid #dcdee5;\r\n    border-bottom-right-radius: 2px;\r\n    border-bottom-left-radius: 2px;\r\n}\r\n</style>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table—wrapper\"},[_c('div',{staticClass:\"header-table-operation\"},[_c('search-input',{attrs:{\"placeholder\":'请输入关键字搜索'},on:{\"search\":_vm.onSearch},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}}),_vm._v(\" \"),_c('advanced-search',{attrs:{\"form-widgets\":_vm.formWidgets},on:{\"submit\":_vm.handleAdvancedSearch}}),_vm._v(\" \"),_c('div',{staticClass:\"operation-container\"},[_c('div',[(_vm.datas.length > 0)?_c('bk-button',{attrs:{\"title\":'导出'},on:{\"click\":_vm.toExport}},[_vm._v(\"\\n                    导出\\n                \")]):_vm._e(),_vm._v(\" \"),_c('bk-button',{attrs:{\"title\":'导出',\"disabled\":_vm.batchCheckDisable},on:{\"click\":_vm.batchCheck}},[_vm._v(\"\\n                    批量检测\\n                \")]),_vm._v(\" \"),_c('bk-button',{attrs:{\"title\":'导出'},on:{\"click\":_vm.batchModify}},[_vm._v(\"\\n                    批量修改\\n                \")]),_vm._v(\" \"),_c('bk-dropdown-menu',{ref:\"dropdown\",attrs:{\"trigger\":\"click\"},on:{\"show\":_vm.dropdownShow,\"hide\":_vm.dropdownHide}},[_c('div',{staticClass:\"dropdown-trigger-btn\",staticStyle:{\"padding-left\":\"19px\"},attrs:{\"slot\":\"dropdown-trigger\"},slot:\"dropdown-trigger\"},[_c('span',[_vm._v(\"更多操作\")]),_vm._v(\" \"),_c('i',{class:['bk-icon icon-angle-down',{ 'icon-flip': _vm.isDropdownShow }]})]),_vm._v(\" \"),_c('ul',{staticClass:\"bk-dropdown-list\",attrs:{\"slot\":\"dropdown-content\"},slot:\"dropdown-content\"},[_c('li',[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":_vm.handleRecycle}},[_vm._v(\"批量回收\")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.handleVisible('importDialog')}}},[_vm._v(\"导入分配\")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.handleVisible('distributeDialog')}}},[_vm._v(\"新增分配\")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.handleVisible('reserveDialog')}}},[_vm._v(\"新增保留\")])])])])],1)])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"bkloading\",rawName:\"v-bkloading\",value:({ isLoading: _vm.loading, zIndex: 10 }),expression:\"{ isLoading: loading, zIndex: 10 }\"}]},[_c('common-table',{attrs:{\"data\":_vm.datas,\"columns\":_vm.columns,\"select-column\":{ visible: true, fixed: true },\"order-column\":{ visible: false, fixed: false },\"settings-fields\":_vm.settingsFields,\"pagination\":_vm.pagination},on:{\"selection-change\":_vm.selectChange,\"handleSettingChange\":_vm.handleSettingChange,\"sort-change\":_vm.handleSortChange,\"page-change\":_vm.handlePageChange,\"page-limit-change\":_vm.limitChange},scopedSlots:_vm._u([{key:\"status\",fn:function(record){return [_c('span',{staticClass:\"radius-tip\",style:({ background: _vm.statusColorObj[record.scope.allocate_status] })}),_vm._v(\"\\n                \"+_vm._s(_vm.statusObj[record.scope.allocate_status])+\"\\n            \")]}},{key:\"online_status\",fn:function(record){return [_c('span',{style:({ color: record.scope.online_status ? '#14A568' : '#FF5656' })},[_vm._v(\"\\n                    \"+_vm._s(record.scope.online_status ? '在线' : '离线')+\"\\n                \")])]}},{key:\"reserve_status\",fn:function(record){return [_c('span',{style:({ color: record.scope.reserve_status ? '#14A568' : '#FF5656' })},[_vm._v(\"\\n                    \"+_vm._s(record.scope.reserve_status ? '保留' : '未保留')+\"\\n                \")])]}},{key:\"operation\",fn:function(record){return [_c('bk-button',{staticClass:\"mr10\",attrs:{\"theme\":\"primary\",\"text\":\"\",\"disabled\":record.scope.checking},on:{\"click\":function($event){return _vm.ipCheck(record.scope)}}},[_vm._v(\"立即检测\\n                \")])]}}])})],1),_vm._v(\" \"),_c('batch-modify',{attrs:{\"is-edit\":true,\"form-data\":_vm.formData,\"form-widgets\":_vm.batchWidgets,\"title\":\"IP地址批量修改\",\"submit-loading\":_vm.isConfirm},on:{\"submit\":_vm.toComfirmModify},model:{value:(_vm.batchModifyVisible),callback:function ($$v) {_vm.batchModifyVisible=$$v},expression:\"batchModifyVisible\"}}),_vm._v(\" \"),_c('batch-recycle',{ref:\"batchRecycle\",attrs:{\"selected\":_vm.selectedRows},on:{\"ok-recycle\":_vm.fetchData}}),_vm._v(\" \"),_c('import-dialog',{ref:\"importDialog\",on:{\"ok-confirm\":_vm.fetchData}}),_vm._v(\" \"),_c('add-distribute',{ref:\"distributeDialog\",on:{\"ok-confirm\":_vm.fetchData}}),_vm._v(\" \"),_c('add-reserve',{ref:\"reserveDialog\",on:{\"ok-confirm\":_vm.fetchData}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./import_ips.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./import_ips.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addReserve.vue?vue&type=template&id=79224534&scoped=true&\"\nimport script from \"./addReserve.vue?vue&type=script&lang=js&\"\nexport * from \"./addReserve.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addReserve.vue?vue&type=style&index=0&id=79224534&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79224534\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./addReserve.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./addReserve.vue?vue&type=script&lang=js&\"","<!--\r\nThis program is named IP Management Center and it is a tool to help network administrators manage enterprise IP resource pool reasonably and conveniently.\r\nCopyright (C) <2021>  <Guangzhou Canway Technology Co.,Ltd.>\r\nContact details: jackliu@canway.net or 11th Floor, Building A，Fengxing Plaza No. 67 Tianhe East Road Tianhe District, Guangzhou, China 510630. jackliu, 15927493530\r\nThis file is part of IP Management Center.\r\nIP Management Center is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\r\nIP Management Center is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\r\nYou should have received a copy of the GNU General Public License along with Canway software. If not, see <https://www.gnu.org/licenses/>.\r\n-->\r\n<template>\r\n    <bk-dialog v-model=\"visible\" title=\"导入分配\"\r\n        class=\"importDialog\"\r\n        :mask-close=\"false\"\r\n        :show-mask=\"true\"\r\n        :draggable=\"false\"\r\n        :loading=\"loading\"\r\n        :header-position=\"'left'\"\r\n        :width=\"480\"\r\n        :auto-close=\"false\"\r\n        @confirm=\"onConfirm\">\r\n        <div class=\"upload-wrapper\">\r\n            <bk-upload\r\n                :tip=\"'只允许上传csv,xlsx的文件'\"\r\n                :with-credentials=\"true\"\r\n                :custom-request=\"handleUpload\"\r\n                :limit=\"1\"\r\n                :ext-cls=\"'upload-wrapper'\"\r\n                :url=\"'0'\"\r\n                :accept=\"'.csv, .xlsx'\"\r\n            ></bk-upload>\r\n            <span class=\"template-file\" @click=\"toDownload\">模板文件.xlsx</span>\r\n        </div>\r\n        <p v-if=\"file\" class=\"file-list-wrapper\">\r\n            {{file.name}}\r\n            <i class=\"bk-icon icon-close\" @click=\"handleClose\"></i>\r\n        </p>\r\n    </bk-dialog>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'import-ips',\r\n        data() {\r\n            return {\r\n                visible: false,\r\n                file: null,\r\n                loading: false\r\n            }\r\n        },\r\n        methods: {\r\n            showDialog() {\r\n                this.visible = true\r\n            },\r\n            onConfirm() {\r\n                this.loading = true\r\n                if (!this.file) {\r\n                    this._warnMessage('请先选择文件再上传')\r\n                    this.loading = false\r\n                    return false\r\n                }\r\n                const _formData = new FormData()\r\n                _formData.append('file', this.file)\r\n                this.$api.ip_allocation(_formData).then(res => {\r\n                    if (res.result) {\r\n                        this.$emit('ok-confirm', true)\r\n                        this._successMessage('导入成功')\r\n                        this.visible = false\r\n                    } else {\r\n                        this._errorMessage(res.message)\r\n                        this.visible = false\r\n                    }\r\n                }).catch(() => {\r\n                    this._errorMessage('导入失败,请稍后再试')\r\n                }).finally(() => {\r\n                    this.loading = false\r\n                })\r\n            },\r\n            handleUpload(el) {\r\n                this.file = el.fileObj.origin\r\n            },\r\n            handleClose() {\r\n                this.file = ''\r\n            },\r\n            toDownload() {\r\n                const url = window.siteUrl + 'ip/download_template/'\r\n                window.open(url)\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n/deep/ .bk-upload.draggable .file-wrapper {\r\n    background: #FAFBFD;\r\n}\r\n/deep/.upload-wrapper {\r\n    .all-file {\r\n        display: none;\r\n    }\r\n}\r\n.upload-wrapper {\r\n    position: relative;\r\n    .template-file {\r\n        cursor: pointer;\r\n        color: #3A84FF;\r\n        font-size: 14px;\r\n        position: absolute;\r\n        bottom: 0;\r\n        right: 0;\r\n    }\r\n}\r\n.file-list-wrapper {\r\n    margin-top: 15px;\r\n    font-size: 12px;\r\n    color: #3A84FF;\r\n    width: 100%;\r\n    position: relative;\r\n    >i {\r\n        color: #3A84FF;\r\n        position: absolute;\r\n        right: 3px;\r\n        top: 3px;\r\n        cursor: pointer;\r\n    }\r\n}\r\n/deep/ .bk-dialog-body {\r\n    position: relative;\r\n}\r\n</style>\r\n"],"sourceRoot":""}