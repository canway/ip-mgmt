{"version":3,"sources":["webpack:///./src/views/Ip/subnet/index.vue?d975","webpack:///src/views/Ip/subnet/index.vue","webpack:///./src/views/Ip/subnet/modify.vue","webpack:///src/views/Ip/subnet/modify.vue","webpack:///./src/views/Ip/subnet/modify.vue?89ed","webpack:///./src/views/Ip/subnet/index.vue?4608","webpack:///./src/views/Ip/subnet/index.vue","webpack:///./src/views/Ip/subnet/modify.vue?f097"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","onSearch","model","value","callback","$$v","searchValue","expression","_v","getFormWidget","handleAdvancedSearch","$event","handleVisible","toModify","datas","length","toExport","_e","directives","name","rawName","isLoading","loading","zIndex","columns","visible","fixed","pagination","settingsFields","handleSettingChange","handleSortChange","handlePageChange","limitChange","scopedSlots","_u","key","fn","record","_s","scope","usedPercent","toDelete","currentItem","segmentAttr","modifyIpNetSuccess","modifyVisible","ref","fetchData","staticRenderFns","component","status","onVisibleChange","slot","currentId","formData","rules","ip_pool","addressPool","widget","tag","placeholder","defaultValue","attr","$set","formList","_l","item","index","staticStyle","delParams","ip_net","getDisabled","bk_cloud_id","gateway","dns","j","required","display_name","addParams","isConfirm","stopPropagation","preventDefault","submitData","apply","arguments"],"mappings":"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CgB,MAAhB,cAEY,YAAZ,GACY,eAAZ,CACA,CACgB,MAAhB,QACgB,IAAhB,eACgB,MAAhB,OACgB,UAAhB,EACgB,KAAhB,CACoB,SAApB,SAEgB,cAAhB,CACoB,OAApB,cACoB,MAApB,MACoB,QAApB,EACoB,KAApB,UACoB,YAApB,SACoB,KAApB,CACwB,WAAxB,EACwB,QAAxB,EACwB,YAAxB,EACwB,YAAxB,EACwB,oBAAxB,EACwB,IAAxB,aACwB,UAAxB,aACwB,UAAxB,KAIA,CACgB,MAAhB,OACgB,IAAhB,SACgB,MAAhB,OACgB,KAAhB,CACoB,SAApB,SAEgB,cAAhB,CACoB,OAApB,QACoB,YAApB,UACoB,KAApB,CACwB,WAAxB,KAIA,CACgB,MAAhB,MACgB,IAAhB,cACgB,MAAhB,QACgB,KAAhB,CACoB,SAApB,QAEgB,cAAhB,CACoB,OAApB,QACoB,YAApB,SACoB,KAApB,CACwB,WAAxB,EACwB,IAAxB,EACwB,KAAxB,YAIA,CACgB,MAAhB,KACgB,IAAhB,UACgB,MAAhB,OACgB,KAAhB,CACoB,SAApB,SAEgB,cAAhB,CACoB,OAApB,QACoB,YAApB,QACoB,KAApB,CACwB,WAAxB,KAIA,CACgB,MAAhB,SACgB,IAAhB,MACgB,MAAhB,OACgB,KAAhB,CACoB,SAApB,SAEgB,cAAhB,CACoB,OAApB,QACoB,MAApB,MACoB,YAApB,YACoB,KAApB,CACwB,WAAxB,KAIA,CACgB,MAAhB,eACgB,IAAhB,WACgB,KAAhB,CACoB,SAApB,SAEgB,MAAhB,QAEA,CACgB,MAAhB,QACgB,IAAhB,mBACgB,MAAhB,SAEA,CACgB,MAAhB,OACgB,IAAhB,YACgB,MAAhB,OACgB,UAAhB,EACgB,KAAhB,CACoB,SAApB,SAEgB,cAAhB,CACoB,OAApB,cACoB,YAApB,SACoB,KAApB,CACwB,MAAxB,eACwB,UAAxB,EACwB,WAAxB,EACwB,KAAxB,YACwB,eAAxB,EACwB,iBAAxB,EACwB,UAAxB,CACA,CAC4B,KAA5B,KAC4B,MAF5B,WAGgC,IAAhC,WAEgC,MAAhC,CADA,S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","file":"static/dist/js/8.36ba54b90b5ea085842c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table—wrapper\"},[_c('div',{staticClass:\"header-table-operation\"},[_c('search-input',{attrs:{\"placeholder\":'请输入关键字搜索'},on:{\"search\":_vm.onSearch},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}}),_vm._v(\" \"),_c('advanced-search',{attrs:{\"form-widgets\":_vm.getFormWidget},on:{\"submit\":_vm.handleAdvancedSearch}}),_vm._v(\" \"),_c('div',{staticClass:\"operation-container\"},[_c('div',[_c('bk-button',{on:{\"click\":function($event){return _vm.handleVisible()}}},[_vm._v(\"\\n                    导入\\n                \")]),_vm._v(\" \"),_c('bk-button',{attrs:{\"title\":'添加子网'},on:{\"click\":function($event){return _vm.toModify()}}},[_vm._v(\"\\n                    添加子网\\n                \")]),_vm._v(\" \"),(_vm.datas.length > 0)?_c('bk-button',{attrs:{\"title\":'导出Excel'},on:{\"click\":_vm.toExport}},[_vm._v(\"\\n                    导出Excel\\n                \")]):_vm._e()],1)])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"bkloading\",rawName:\"v-bkloading\",value:({ isLoading: _vm.loading, zIndex: 10 }),expression:\"{ isLoading: loading, zIndex: 10 }\"}]},[_c('common-table',{attrs:{\"data\":_vm.datas,\"columns\":_vm.columns,\"select-column\":{ visible: false, fixed: true },\"order-column\":{ visible: false, fixed: false },\"pagination\":_vm.pagination,\"settings-fields\":_vm.settingsFields},on:{\"handleSettingChange\":_vm.handleSettingChange,\"sort-change\":_vm.handleSortChange,\"page-change\":_vm.handlePageChange,\"page-limit-change\":_vm.limitChange},scopedSlots:_vm._u([{key:\"percent\",fn:function(record){return [_vm._v(\"\\n                \"+_vm._s(record.scope.usedPercent)+\"%\\n            \")]}},{key:\"operation\",fn:function(record){return [_c('bk-button',{staticClass:\"mr10\",attrs:{\"theme\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.toModify(record.scope)}}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('bk-popconfirm',{attrs:{\"trigger\":\"click\",\"title\":\"确认删除该地址池吗？\",\"content\":\"删除操作无法撤回，请谨慎操作！\"},on:{\"confirm\":function($event){return _vm.toDelete(record.scope)}}},[_c('bk-button',{staticClass:\"mr10\",attrs:{\"theme\":\"primary\",\"text\":\"\"}},[_vm._v(\"删除\")])],1)]}}])})],1),_vm._v(\" \"),_c('edit-address-pool',{attrs:{\"current-item\":_vm.currentItem,\"segment-attr\":_vm.segmentAttr},on:{\"ok\":_vm.modifyIpNetSuccess},model:{value:(_vm.modifyVisible),callback:function ($$v) {_vm.modifyVisible=$$v},expression:\"modifyVisible\"}}),_vm._v(\" \"),_c('import-dialog',{ref:\"importDialog\",on:{\"ok-confirm\":_vm.fetchData}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nThis program is named IP Management Center and it is a tool to help network administrators manage enterprise IP resource pool reasonably and conveniently.\nCopyright (C) <2021>  <Guangzhou Canway Technology Co.,Ltd.>\nContact details: jackliu@canway.net or 11th Floor, Building A，Fengxing Plaza No. 67 Tianhe East Road Tianhe District, Guangzhou, China 510630. jackliu, 15927493530\nThis file is part of IP Management Center.\nIP Management Center is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\nIP Management Center is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\nYou should have received a copy of the GNU General Public License along with Canway software. If not, see <https://www.gnu.org/licenses/>.\n-->\n<template>\n    <div class=\"table—wrapper\">\n        <div class=\"header-table-operation\">\n            <search-input\n                v-model=\"searchValue\"\n                :placeholder=\"'请输入关键字搜索'\"\n                @search=\"onSearch\">\n            </search-input>\n            <!-- 更多查询 -->\n            <advanced-search :form-widgets=\"getFormWidget\" @submit=\"handleAdvancedSearch\"></advanced-search>\n            <div class=\"operation-container\">\n                <div>\n                    <bk-button @click=\"handleVisible()\">\n                        导入\n                    </bk-button>\n                    <bk-button :title=\"'添加子网'\" @click=\"toModify()\">\n                        添加子网\n                    </bk-button>\n                    <bk-button :title=\"'导出Excel'\" @click=\"toExport\" v-if=\"datas.length > 0\">\n                        导出Excel\n                    </bk-button>\n                </div>\n            </div>\n        </div>\n        <div v-bkloading=\"{ isLoading: loading, zIndex: 10 }\">\n            <common-table\n                :data=\"datas\"\n                :columns=\"columns\"\n                :select-column=\"{ visible: false, fixed: true }\"\n                :order-column=\"{ visible: false, fixed: false }\"\n                :pagination=\"pagination\"\n                :settings-fields=\"settingsFields\"\n                @handleSettingChange=\"handleSettingChange\"\n                @sort-change=\"handleSortChange\"\n                @page-change=\"handlePageChange\"\n                @page-limit-change=\"limitChange\"\n            >\n                <template slot=\"percent\" slot-scope=\"record\">\n                    {{record.scope.usedPercent}}%\n                </template>\n                <template slot=\"operation\" slot-scope=\"record\">\n                    <bk-button class=\"mr10\" theme=\"primary\" text @click=\"toModify(record.scope)\">修改</bk-button>\n                    <bk-popconfirm\n                        trigger=\"click\"\n                        title=\"确认删除该地址池吗？\"\n                        content=\"删除操作无法撤回，请谨慎操作！\"\n                        @confirm=\"toDelete(record.scope)\">\n                        <bk-button class=\"mr10\" theme=\"primary\" text>删除</bk-button>\n                    </bk-popconfirm>\n                </template>\n            </common-table>\n        </div>\n        <!--  编辑地址池  -->\n        <edit-address-pool v-model=\"modifyVisible\"\n            :current-item=\"currentItem\"\n            :segment-attr=\"segmentAttr\"\n            @ok=\"modifyIpNetSuccess\">\n        </edit-address-pool>\n        <!--  导入对话框   -->\n        <import-dialog ref=\"importDialog\"\n            @ok-confirm=\"fetchData\"></import-dialog>\n    </div>\n</template>\n\n<script>\n    import searchInput from '@/components/searchInput'\n    import commonTable from '@/components/table/comTable'\n    import advancedSearch from '@/components/popover/advancedSearch'\n    import editAddressPool from './modify'\n    import importDialog from '../components/import'\n    export default {\n        name: 'home',\n        components: {\n            commonTable,\n            searchInput,\n            advancedSearch,\n            editAddressPool,\n            importDialog\n        },\n        data() {\n            return {\n                loading: false,\n                importLoading: false,\n                searchValue: '',\n                datas: [],\n                columns: [\n                    {\n                        label: '操作',\n                        key: 'operation',\n                        width: '100px',\n                        scopedSlots: { customRender: 'operation' }\n                    }\n                ],\n                pagination: {\n                    current: 1,\n                    count: 3,\n                    limit: 10\n                },\n                sort: {\n                    prop: 'create_at',\n                    order: 'descending'\n                },\n                formWidgets: [],\n                settingsFields: [\n                    {\n                        label: '地址池名称',\n                        key: 'ip_pool_name',\n                        align: 'left',\n                        sortable: true,\n                        attr: {\n                            minWidth: '110px'\n                        },\n                        conditionAttr: {\n                            widget: 'data-select',\n                            label: '地址池',\n                            custom: true,\n                            name: 'ip_pool',\n                            placeholder: '请输入地址池',\n                            attr: {\n                                clearable: true,\n                                remote: true,\n                                filterable: true,\n                                searchable: true,\n                                popperAppendToBody: false,\n                                url: 'searchPool',\n                                detailUrl: 'poolDetail',\n                                initFlag: true\n                            }\n                        }\n                    },\n                    {\n                        label: 'ip子网',\n                        key: 'ip_net',\n                        align: 'left',\n                        attr: {\n                            minWidth: '150px'\n                        },\n                        conditionAttr: {\n                            widget: 'input',\n                            placeholder: '请输入ip子网',\n                            attr: {\n                                clearable: true\n                            }\n                        }\n                    },\n                    {\n                        label: '云区域',\n                        key: 'bk_cloud_id',\n                        align: 'right',\n                        attr: {\n                            minWidth: '90px'\n                        },\n                        conditionAttr: {\n                            widget: 'input',\n                            placeholder: '请输入云区域',\n                            attr: {\n                                clearable: true,\n                                min: 0,\n                                type: 'number'\n                            }\n                        }\n                    },\n                    {\n                        label: '网关',\n                        key: 'gateway',\n                        align: 'left',\n                        attr: {\n                            minWidth: '120px'\n                        },\n                        conditionAttr: {\n                            widget: 'input',\n                            placeholder: '请输入网关',\n                            attr: {\n                                clearable: true\n                            }\n                        }\n                    },\n                    {\n                        label: 'DNS服务器',\n                        key: 'dns',\n                        align: 'left',\n                        attr: {\n                            minWidth: '120px'\n                        },\n                        conditionAttr: {\n                            widget: 'input',\n                            label: 'DNS',\n                            placeholder: '请输入DNS服务器',\n                            attr: {\n                                clearable: true\n                            }\n                        }\n                    },\n                    {\n                        label: 'IP数（可分配/有效数）',\n                        key: 'ip_count',\n                        attr: {\n                            minWidth: '160px'\n                        },\n                        align: 'left'\n                    },\n                    {\n                        label: '保留IP数',\n                        key: 'reserve_ip_count',\n                        align: 'right'\n                    },\n                    {\n                        label: '添加时间',\n                        key: 'create_at',\n                        align: 'left',\n                        sortable: true,\n                        attr: {\n                            minWidth: '150px'\n                        },\n                        conditionAttr: {\n                            widget: 'date-picker',\n                            placeholder: '请选择...',\n                            attr: {\n                                style: { width: '100%' },\n                                transfer: true,\n                                clearable: true,\n                                type: 'daterange',\n                                shortcutClose: true,\n                                useShortcutText: false,\n                                shortcuts: [\n                                    {\n                                        text: '今天',\n                                        value() {\n                                            const end = new Date()\n                                            const start = new Date()\n                                            return [start, end]\n                                        }\n                                    },\n                                    {\n                                        text: '近7天',\n                                        value() {\n                                            const end = new Date()\n                                            const start = new Date()\n                                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\n                                            return [start, end]\n                                        }\n                                    },\n                                    {\n                                        text: '近15天',\n                                        value() {\n                                            const end = new Date()\n                                            const start = new Date()\n                                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 15)\n                                            return [start, end]\n                                        }\n                                    },\n                                    {\n                                        text: '近30天',\n                                        value() {\n                                            const end = new Date()\n                                            const start = new Date()\n                                            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\n                                            return [start, end]\n                                        }\n                                    }\n                                ]\n                            }\n                        }\n                    }\n                ],\n                modifyVisible: false,\n                currentItem: {},\n                // 子网自定义属性\n                segmentAttr: [],\n                searchParams: {},\n                customAttrNames: []\n            }\n        },\n        computed: {\n            getFormWidget() {\n                const newWidgets = this.formWidgets.concat()\n                // 处理新的数组变量\n                newWidgets.pop()\n                return newWidgets\n            }\n        },\n        watch: {\n            searchValue(newV) {\n                if (!newV) {\n                    this.onSearch()\n                }\n            }\n        },\n        created() {\n            const stateColumns = this.$store.state.product.tableColumns.ip_net\n            if (stateColumns.length > 0) {\n                this.columns = [...stateColumns]\n            } else {\n                this.columns = this.settingsFields.slice(0, 7).concat(this.columns)\n            }\n            const adnvancedWidget = this.columns.map(item => {\n                return {\n                    name: item.key,\n                    label: item.label,\n                    ...item.conditionAttr\n                }\n            })\n            const _arr = ['ip_count', 'reserve_ip_count']\n            this.formWidgets = adnvancedWidget.filter(data => !_arr.includes(data.name))\n        },\n        mounted() {\n            this.fetchData()\n            this.getCustomAttr()\n        },\n        methods: {\n            async fetchData(params = {}) {\n                this.loading = true\n                // page:页数, page_size:每页数\n                try {\n                    let sort = this.getProp()\n                    if (sort === null || sort === undefined) {\n                        sort = 'create_at'\n                    }\n                    const res = await this.$api.search_ip_net({\n                        ...this.searchParams,\n                        ...params,\n                        page: this.pagination.current,\n                        page_size: this.pagination.limit,\n                        sort: this.sort.order === 'ascending' ? sort : '-' + sort\n                    })\n                    if (res.result) {\n                        this.pagination.count = res.data.count\n                        res.data.results.forEach(item => {\n                            item.custom_attr.forEach(attr => {\n                                item[attr.name] = attr.value\n                            })\n                        })\n                        this.datas = res.data.results\n                    } else {\n                        this._errorMessage(res.message)\n                    }\n                } finally {\n                    this.loading = false\n                }\n            },\n            getProp() {\n                return this.sort.prop === 'ip_pool_name' ? 'ip_pool__name' : this.sort.prop\n            },\n            async getCustomAttr() {\n                const res = await this.$api.searchCustom({\n                    type: 'tetwork_segment'\n                })\n                if (res.result) {\n                    this.segmentAttr = res.data.results\n                    res.data.results.forEach(item => {\n                        this.settingsFields.push({\n                            label: item.display_name,\n                            key: item.name,\n                            align: 'left',\n                            attr: {\n                                minWidth: '100px'\n                            },\n                            conditionAttr: {\n                                widget: 'input',\n                                placeholder: `请输入${item.display_name}`,\n                                attr: {\n                                    clearable: true\n                                }\n                            }\n                        })\n                        this.customAttrNames.push(item.name)\n                    })\n                    const adnvancedWidget = this.columns.map(item => {\n                        return {\n                            name: item.key,\n                            label: item.label,\n                            ...item.conditionAttr\n                        }\n                    })\n                    const _arr = ['ip_count', 'reserve_ip_count', ...this.customAttrNames]\n                    this.formWidgets = adnvancedWidget.filter(item => !_arr.includes(item.name))\n                } else {\n                    this.segmentAttr = []\n                }\n            },\n            handlePageChange(page) {\n                this.pagination.current = page\n                this.fetchData()\n            },\n            limitChange(limit) {\n                this.pagination.current = 1\n                this.pagination.limit = limit\n                this.fetchData()\n            },\n            onSearch(value) {\n                this.searchParams = {search: value}\n                this.pagination.current = 1\n                this.fetchData({\n                    search: value\n                })\n            },\n            handleSettingChange(datas, columns) {\n                const _arr = ['ip_count', 'reserve_ip_count', ...this.customAttrNames]\n                this.formWidgets = datas.filter(data => !_arr.includes(data.name))\n                // vuex缓存表格头设置的信息\n                this.$store.commit('setTableColumns', {column: columns, key: 'ip_net'})\n            },\n            handleAdvancedSearch(params) {\n                Object.keys(params).forEach(item => {\n                    if (item === 'create_at' || item === 'update_at') {\n                        if (params[item][0] && params[item][1]) {\n                            params[item + '__gte'] = this.$moment(params[item][0]).format('YYYY-MM-DD HH:mm:ss')\n                            params[item + '__lte'] = this.$moment(params[item][1]).format('YYYY-MM-DD HH:mm:ss')\n                            delete params[item]\n                        } else {\n                            delete params[item]\n                        }\n                    }\n                    if (!params[item]) {\n                        delete params[item]\n                    }\n                })\n                this.pagination.current = 1\n                this.searchParams = {...params}\n                this.fetchData({...params})\n            },\n            handleSortChange({ column, prop, order }) {\n                this.sort.prop = prop\n                this.sort.order = order\n                this.fetchData()\n            },\n            // 点击编辑地址池触发事件\n            toModify(record) {\n                this.modifyVisible = true\n                if (record) {\n                    this.currentItem = {...record}\n                } else {\n                    this.currentItem = {\n                        ip_pool: '',\n                        formList: [{\n                            ip_net: '',\n                            bk_cloud_id: '0',\n                            gateway: '',\n                            dns: '',\n                            vlan_id: ''\n                        }]\n                    }\n                }\n            },\n            modifyIpNetSuccess(type) {\n                if (type === 'add') {\n                    this.pagination.current = 1\n                }\n                this.modifyVisible = false\n                this.fetchData()\n            },\n            // 点击删除地址池触发事件\n            async toDelete(record) {\n                const res = await this.$api.delete_ip_net({id: record.id})\n                if (res.result) {\n                    this._successMessage(res.message)\n                    this.fetchData()\n                } else {\n                    this._errorMessage(res.message)\n                }\n            },\n            handleVisible() {\n                this.$refs.importDialog.showDialog()\n            },\n            // 导出excel\n            toExport() {\n                let _params = ''\n                Object.keys(this.searchParams).forEach(item => {\n                    _params = _params + `&${item}=${this.searchParams[item]}`\n                })\n                const url = window.siteUrl + 'ip_net/export_excel/?page=1&page_size=-1' + _params\n                window.open(url)\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n.file-upload-wrapper {\n    width: 68px;\n    height: 32px;\n    position: relative;\n    display: inline-block;\n    >input {\n        opacity: 0;\n        position: absolute;\n        top: 0;\n        left: 0;\n    }\n}\n</style>\n","import { render, staticRenderFns } from \"./modify.vue?vue&type=template&id=575c0991&scoped=true&\"\nimport script from \"./modify.vue?vue&type=script&lang=js&\"\nexport * from \"./modify.vue?vue&type=script&lang=js&\"\nimport style0 from \"./modify.vue?vue&type=style&index=0&id=575c0991&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"575c0991\",\n  null\n  \n)\n\nexport default component.exports","<!--\nThis program is named IP Management Center and it is a tool to help network administrators manage enterprise IP resource pool reasonably and conveniently.\nCopyright (C) <2021>  <Guangzhou Canway Technology Co.,Ltd.>\nContact details: jackliu@canway.net or 11th Floor, Building A，Fengxing Plaza No. 67 Tianhe East Road Tianhe District, Guangzhou, China 510630. jackliu, 15927493530\nThis file is part of IP Management Center.\nIP Management Center is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\nIP Management Center is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\nYou should have received a copy of the GNU General Public License along with Canway software. If not, see <https://www.gnu.org/licenses/>.\n-->\n<template>\n    <bk-sideslider\n        :is-show.sync=\"status\"\n        :width=\"540\"\n        @shown=\"onVisibleChange\"\n        @hidden=\"onVisibleChange\"\n        :quick-close=\"false\">\n        <div slot=\"header\">\n            {{ currentId ? '编辑IP子网' : '新增IP子网' }}\n        </div>\n        <div\n            slot=\"content\"\n            class=\"slider-content-wrapper\">\n            <bk-form\n                :label-width=\"170\"\n                :model=\"formData\"\n                :rules=\"rules\"\n                ref=\"ipModifyForm\">\n                <p class=\"title\">\n                    <span>地址池信息</span>\n                </p>\n                <bk-form-item\n                    label=\"名称\"\n                    :icon-offset=\"30\"\n                    :required=\"true\"\n                    :property=\"'ip_pool'\"\n                    :rules=\"rules.ip_pool\">\n                    <component\n                        :is=\"addressPool.widget\"\n                        v-model=\"formData.ip_pool\"\n                        :placeholder=\"addressPool.placeholder\"\n                        :default-value=\"addressPool.defaultValue\"\n                        :attr=\"addressPool.attr\"\n                    ></component>\n                </bk-form-item>\n                <p class=\"title\">\n                    <span>子网信息</span>\n                </p>\n                <div v-if=\"formData.formList.length > 0\">\n                    <div\n                        :key=\"index\"\n                        v-for=\"(item, index) in formData.formList\"\n                        style=\"margin-bottom: 20px;\">\n                        <div class=\"close-icon\" v-if=\"index >= 1 && !currentId\">\n                            <bk-icon type=\"close\" @click=\"delParams(index)\" />\n                        </div>\n                        <bk-form-item\n                            :icon-offset=\"30\"\n                            :required=\"true\"\n                            :label=\"'网段' + (index + 1)\"\n                            :property=\"'formList.' + index + '.ip_net'\"\n                            :rules=\"rules.ip_net\">\n                            <bk-input\n                                v-model=\"item.ip_net\"\n                                :disabled=\"getDisabled\"\n                                placeholder=\"如:192.168.1.0/24\">\n                            </bk-input>\n                        </bk-form-item>\n                        <bk-form-item\n                            :icon-offset=\"50\"\n                            label=\"云区域\"\n                            :required=\"true\"\n                            :property=\"'formList.' + index + '.bk_cloud_id'\"\n                            :rules=\"rules.bk_cloud_id\">\n                            <bk-input\n                                v-model=\"item.bk_cloud_id\"\n                                type=\"number\"\n                                :min=\"0\"\n                                placeholder=\"默认为0\">\n                            </bk-input>\n                        </bk-form-item>\n                        <bk-form-item\n                            :icon-offset=\"30\"\n                            label=\"网关\"\n                            :required=\"true\"\n                            :property=\"'formList.' + index + '.gateway'\"\n                            :rules=\"rules.gateway\">\n                            <bk-input\n                                v-model=\"item.gateway\"\n                                placeholder=\"请输入网关\">\n                            </bk-input>\n                        </bk-form-item>\n                        <bk-form-item\n                            :icon-offset=\"30\"\n                            label=\"DNS服务器\"\n                            :required=\"true\"\n                            :property=\"'formList.' + index + '.dns'\"\n                            :rules=\"rules.dns\">\n                            <bk-input\n                                v-model=\"item.dns\"\n                                placeholder=\"请输入DNS服务器\">\n                            </bk-input>\n                        </bk-form-item>\n                        <bk-form-item\n                            :icon-offset=\"30\"\n                            label=\"VLAN ID\"\n                            :property=\"'formList.' + index + '.vlan_id'\">\n                            <bk-input type=\"number\"\n                                v-model=\"item.vlan_id\"></bk-input>\n                        </bk-form-item>\n                        <template v-for=\"(attr, j) in segmentAttr\">\n                            <bk-form-item\n                                :icon-offset=\"30\"\n                                :key=\"j\"\n                                :required=\"attr.required\"\n                                :label=\"attr.display_name\"\n                                :rules=\"rules[attr.name]\"\n                                :property=\"'formList.' + index + '.' + attr.name\">\n                                <bk-input\n                                    v-model=\"item[attr.name]\"\n                                    placeholder=\"请输入自定义属性值\">\n                                </bk-input>\n                            </bk-form-item>\n                        </template>\n                    </div>\n                </div>\n                <div class=\"add-container\" @click=\"addParams\" v-if=\"!currentId\">\n                    <bk-icon type=\"plus-circle\" />\n                    <span>添加子网</span>\n                </div>\n            </bk-form>\n        </div>\n        <div slot=\"footer\">\n            <bk-button\n                ext-cls=\"mr5\"\n                theme=\"primary\"\n                title=\"保存\"\n                :loading=\"isConfirm\"\n                @click.stop.prevent=\"submitData\"\n                style=\"margin-left: 24px;\">\n                保存\n            </bk-button>\n            <bk-button\n                ext-cls=\"mr5\"\n                theme=\"default\"\n                title=\"取消\"\n                @click=\"status = false\">\n                取消\n            </bk-button>\n        </div>\n    </bk-sideslider>\n</template>\n\n<script>\n    import dataSelect from '@/components/formWidget/dataSelect'\n    export default {\n        name: 'address-pool-side-slider',\n        components: {\n            dataSelect\n        },\n        model: {\n            props: 'value',\n            event: 'change'\n        },\n        props: {\n            value: {\n                type: Boolean,\n                default: false\n            },\n            currentItem: {\n                type: Object,\n                default: () => {}\n            },\n            // 子网自定义属性\n            segmentAttr: {\n                type: Array,\n                default: () => []\n            }\n        },\n        data() {\n            return {\n                formData: {\n                    ip_pool: '',\n                    formList: [{\n                        ip_net: '',\n                        bk_cloud_id: '',\n                        gateway: '',\n                        dns: '',\n                        vlan_id: ''\n                    }]\n                },\n                rules: {\n                    ip_pool: [\n                        {\n                            required: true,\n                            message: '必填项',\n                            trigger: 'blur'\n                        }\n                    ],\n                    ip_net: [\n                        {\n                            required: true,\n                            message: '必填项',\n                            trigger: 'blur'\n                        },\n                        {\n                            regex: /^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\/([1-9]|[1-2][0-9]|3[0-2])$/,\n                            message: '请输入正确网段',\n                            trigger: 'blur'\n                        }\n                    ],\n                    bk_cloud_id: [\n                        {\n                            required: true,\n                            message: '必填项',\n                            trigger: 'blur'\n                        }\n                    ],\n                    gateway: [\n                        {\n                            required: true,\n                            message: '必填项',\n                            trigger: 'blur'\n                        },\n                        {\n                            min: 3,\n                            message: function(val) {\n                                return `${val}不能小于3个字符`\n                            },\n                            trigger: 'blur'\n                        },\n                        {\n                            regex: /^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/,\n                            message: '请输入正确的网关',\n                            trigger: 'blur'\n                        }\n                    ],\n                    dns: [\n                        {\n                            required: true,\n                            message: '必填项',\n                            trigger: 'blur'\n                        },\n                        {\n                            regex: /^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/,\n                            message: '请输入正确的网关',\n                            trigger: 'blur'\n                        }\n                    ]\n                },\n                status: false,\n                isConfirm: false,\n                currentId: '',\n                addressPool: {\n                    widget: 'data-select',\n                    placeholder: '请选择地址池',\n                    attr: {\n                        remote: true,\n                        filterable: true,\n                        searchable: true,\n                        popperAppendToBody: false,\n                        clearable: true,\n                        url: 'searchPool',\n                        detailUrl: 'poolDetail',\n                        initFlag: true // 是否需要请求初始值\n                    }\n                },\n                segementAttrObj: {}\n            }\n        },\n        computed: {\n            getDisabled() {\n                let flag = false\n                if (this.currentId) {\n                    flag = true\n                }\n                return flag\n            }\n        },\n        watch: {\n            value: {\n                handler(newVal) {\n                    this.status = newVal\n                    if (!this.status) return false\n                    this.currentId = this.currentItem['id'] || ''\n                    // 编辑数据\n                    this.currentId ? this.getDetailData() : this.formData = JSON.parse(JSON.stringify(this.currentItem))\n                    this.$nextTick(() => {\n                        this.settingPosition()\n                    })\n                }\n            }\n        },\n        mounted() {\n            this.getCustomAttr()\n        },\n        methods: {\n            onVisibleChange() {\n                this.$emit('change', this.status)\n            },\n            getCustomAttr() {\n                if (this.segmentAttr.length === 0) return false\n                this.customAttrRule(this.segmentAttr)\n                this.segementAttrObj = {}\n                this.segmentAttr.forEach(item => {\n                    this.segementAttrObj[item.name] = ''\n                })\n                const IpNet = JSON.parse(JSON.stringify(this.formData.formList))\n                this.formData.formList = IpNet.map(item => {\n                    return { ...item, ...this.segementAttrObj }\n                })\n            },\n            // 根据自定义属性添加表单的校验信息\n            customAttrRule(data) {\n                // 添加校验项\n                data.forEach(ele => {\n                    if (ele.required) {\n                        this.rules[ele.name] = [{\n                            required: true,\n                            message: '必填项',\n                            trigger: 'blur'\n                        }]\n                    }\n                })\n            },\n            addParams() {\n                this.formData.formList.push({\n                    ip_net: '',\n                    bk_cloud_id: '0',\n                    gateway: '',\n                    dns: '',\n                    vlan_id: ''\n                })\n                this.$nextTick(() => {\n                    this.settingPosition()\n                })\n            },\n            delParams(index) {\n                this.formData.formList.splice(index, 1)\n                this.$nextTick(() => {\n                    this.settingPosition()\n                })\n            },\n            submitData() {\n                this.isConfirm = true\n                this.$refs.ipModifyForm.validate().then(validator => {\n                    // 子网自定义属性结构 custom_attr: [{name: '', value: ''}]\n                    const IpNet = JSON.parse(JSON.stringify(this.formData.formList))\n                    IpNet.forEach(ipItem => {\n                        const netCustomAttr = []\n                        this.segmentAttr.forEach(attr => {\n                            netCustomAttr.push({\n                                name: attr.name,\n                                value: ipItem[attr.name]\n                            })\n                            delete ipItem[attr.name]\n                        })\n                        ipItem['custom_attr'] = netCustomAttr\n                    })\n                    const params = IpNet.map(item => {\n                        return {...item, ip_pool: this.formData.ip_pool}\n                    })\n                    if (!this.currentId) {\n                        this.commonFetch({\n                            ip_net: [...params]\n                        }, 'add_ip_pool')\n                    } else {\n                        this.commonFetch({\n                        ...params[0]\n                        }, 'update_ip_pool')\n                    }\n                }, validator => {\n                    this.isConfirm = false\n                })\n            },\n            commonFetch(params = {}, url) {\n                this.$api[url]({...params}).then(res => {\n                    if (res.result) {\n                        this._successMessage(this.currentId ? '修改成功' : '新增成功')\n                        this.$emit('ok', this.currentId ? 'edit' : 'add')\n                    } else {\n                        this._errorMessage(res.message)\n                    }\n                }).finally(() => {\n                    this.isConfirm = false\n                })\n            },\n            // 获取修改地址池的详细信息\n            getDetailData() {\n                const _formData = {}\n                const _currentItem = this.currentItem\n                if (this.currentItem.custom_attr) {\n                    this.currentItem.custom_attr.forEach(item => {\n                        _currentItem[item.name] = item.value\n                    })\n                }\n                _formData['formList'] = [{...this.currentItem}]\n                const {ip_pool: ipPool, ip_pool_name: ipPoolName} = this.currentItem\n                _formData['ip_pool'] = ipPool\n                _formData['ip_pool_name'] = ipPoolName\n                this.formData = {..._formData}\n                this.addressPool.attr['defaultName'] = this.formData['ip_pool_name'] || ''\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n    /deep/ .bk-label {\n        width: 145px !important;\n    }\n    .bk-form-content {\n        margin-left: 145px !important;\n    }\n    .bk-form-control {\n        transform: translateX(-25px);\n    }\n    /deep/ .select_wrapper {\n        transform: translateX(-25px);\n    }\n    .slider-content-wrapper {\n        .title {\n            text-align: left;\n            margin-left: 24px;\n        }\n        .close-icon {\n            text-align: left;\n            margin-left: 24px;\n            color: #979BA5;\n            i {\n                cursor: pointer;\n            }\n            &:hover {\n                color: #3A84FF;\n            }\n        }\n        .add-container {\n            text-align: left;\n            margin: 0 0 20px 145px;\n            color: #3A84FF;\n            font-size: 14px;\n            cursor: pointer;\n            i {\n                color: #3A84FF;\n                font-size: 18px !important;\n            }\n            span {\n                font-size: 14px;\n            }\n        }\n    }\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('bk-sideslider',{attrs:{\"is-show\":_vm.status,\"width\":540,\"quick-close\":false},on:{\"update:isShow\":function($event){_vm.status=$event},\"update:is-show\":function($event){_vm.status=$event},\"shown\":_vm.onVisibleChange,\"hidden\":_vm.onVisibleChange}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"\\n        \"+_vm._s(_vm.currentId ? '编辑IP子网' : '新增IP子网')+\"\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"slider-content-wrapper\",attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('bk-form',{ref:\"ipModifyForm\",attrs:{\"label-width\":170,\"model\":_vm.formData,\"rules\":_vm.rules}},[_c('p',{staticClass:\"title\"},[_c('span',[_vm._v(\"地址池信息\")])]),_vm._v(\" \"),_c('bk-form-item',{attrs:{\"label\":\"名称\",\"icon-offset\":30,\"required\":true,\"property\":'ip_pool',\"rules\":_vm.rules.ip_pool}},[_c(_vm.addressPool.widget,{tag:\"component\",attrs:{\"placeholder\":_vm.addressPool.placeholder,\"default-value\":_vm.addressPool.defaultValue,\"attr\":_vm.addressPool.attr},model:{value:(_vm.formData.ip_pool),callback:function ($$v) {_vm.$set(_vm.formData, \"ip_pool\", $$v)},expression:\"formData.ip_pool\"}})],1),_vm._v(\" \"),_c('p',{staticClass:\"title\"},[_c('span',[_vm._v(\"子网信息\")])]),_vm._v(\" \"),(_vm.formData.formList.length > 0)?_c('div',_vm._l((_vm.formData.formList),function(item,index){return _c('div',{key:index,staticStyle:{\"margin-bottom\":\"20px\"}},[(index >= 1 && !_vm.currentId)?_c('div',{staticClass:\"close-icon\"},[_c('bk-icon',{attrs:{\"type\":\"close\"},on:{\"click\":function($event){return _vm.delParams(index)}}})],1):_vm._e(),_vm._v(\" \"),_c('bk-form-item',{attrs:{\"icon-offset\":30,\"required\":true,\"label\":'网段' + (index + 1),\"property\":'formList.' + index + '.ip_net',\"rules\":_vm.rules.ip_net}},[_c('bk-input',{attrs:{\"disabled\":_vm.getDisabled,\"placeholder\":\"如:192.168.1.0/24\"},model:{value:(item.ip_net),callback:function ($$v) {_vm.$set(item, \"ip_net\", $$v)},expression:\"item.ip_net\"}})],1),_vm._v(\" \"),_c('bk-form-item',{attrs:{\"icon-offset\":50,\"label\":\"云区域\",\"required\":true,\"property\":'formList.' + index + '.bk_cloud_id',\"rules\":_vm.rules.bk_cloud_id}},[_c('bk-input',{attrs:{\"type\":\"number\",\"min\":0,\"placeholder\":\"默认为0\"},model:{value:(item.bk_cloud_id),callback:function ($$v) {_vm.$set(item, \"bk_cloud_id\", $$v)},expression:\"item.bk_cloud_id\"}})],1),_vm._v(\" \"),_c('bk-form-item',{attrs:{\"icon-offset\":30,\"label\":\"网关\",\"required\":true,\"property\":'formList.' + index + '.gateway',\"rules\":_vm.rules.gateway}},[_c('bk-input',{attrs:{\"placeholder\":\"请输入网关\"},model:{value:(item.gateway),callback:function ($$v) {_vm.$set(item, \"gateway\", $$v)},expression:\"item.gateway\"}})],1),_vm._v(\" \"),_c('bk-form-item',{attrs:{\"icon-offset\":30,\"label\":\"DNS服务器\",\"required\":true,\"property\":'formList.' + index + '.dns',\"rules\":_vm.rules.dns}},[_c('bk-input',{attrs:{\"placeholder\":\"请输入DNS服务器\"},model:{value:(item.dns),callback:function ($$v) {_vm.$set(item, \"dns\", $$v)},expression:\"item.dns\"}})],1),_vm._v(\" \"),_c('bk-form-item',{attrs:{\"icon-offset\":30,\"label\":\"VLAN ID\",\"property\":'formList.' + index + '.vlan_id'}},[_c('bk-input',{attrs:{\"type\":\"number\"},model:{value:(item.vlan_id),callback:function ($$v) {_vm.$set(item, \"vlan_id\", $$v)},expression:\"item.vlan_id\"}})],1),_vm._v(\" \"),_vm._l((_vm.segmentAttr),function(attr,j){return [_c('bk-form-item',{key:j,attrs:{\"icon-offset\":30,\"required\":attr.required,\"label\":attr.display_name,\"rules\":_vm.rules[attr.name],\"property\":'formList.' + index + '.' + attr.name}},[_c('bk-input',{attrs:{\"placeholder\":\"请输入自定义属性值\"},model:{value:(item[attr.name]),callback:function ($$v) {_vm.$set(item, attr.name, $$v)},expression:\"item[attr.name]\"}})],1)]})],2)}),0):_vm._e(),_vm._v(\" \"),(!_vm.currentId)?_c('div',{staticClass:\"add-container\",on:{\"click\":_vm.addParams}},[_c('bk-icon',{attrs:{\"type\":\"plus-circle\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"添加子网\")])],1):_vm._e()],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('bk-button',{staticStyle:{\"margin-left\":\"24px\"},attrs:{\"ext-cls\":\"mr5\",\"theme\":\"primary\",\"title\":\"保存\",\"loading\":_vm.isConfirm},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.submitData.apply(null, arguments)}}},[_vm._v(\"\\n            保存\\n        \")]),_vm._v(\" \"),_c('bk-button',{attrs:{\"ext-cls\":\"mr5\",\"theme\":\"default\",\"title\":\"取消\"},on:{\"click\":function($event){_vm.status = false}}},[_vm._v(\"\\n            取消\\n        \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=d8d45b78&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=d8d45b78&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d8d45b78\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./modify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./modify.vue?vue&type=script&lang=js&\""],"sourceRoot":""}